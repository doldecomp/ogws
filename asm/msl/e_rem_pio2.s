.include "macros.inc"

.section .sdata2, "a"
.balign 0x8
.global lbl_804C0DE0
lbl_804C0DE0:
	.incbin "baserom.dol", 0x3C9A20, 0x8
.global lbl_804C0DE8
lbl_804C0DE8:
	.incbin "baserom.dol", 0x3C9A28, 0x8
.global lbl_804C0DF0
lbl_804C0DF0:
	.incbin "baserom.dol", 0x3C9A30, 0x8
.global lbl_804C0DF8
lbl_804C0DF8:
	.incbin "baserom.dol", 0x3C9A38, 0x8
.global lbl_804C0E00
lbl_804C0E00:
	.incbin "baserom.dol", 0x3C9A40, 0x8
.global lbl_804C0E08
lbl_804C0E08:
	.incbin "baserom.dol", 0x3C9A48, 0x8
.global lbl_804C0E10
lbl_804C0E10:
	.incbin "baserom.dol", 0x3C9A50, 0x8
.global lbl_804C0E18
lbl_804C0E18:
	.incbin "baserom.dol", 0x3C9A58, 0x8
.global lbl_804C0E20
lbl_804C0E20:
	.incbin "baserom.dol", 0x3C9A60, 0x8
.global lbl_804C0E28
lbl_804C0E28:
	.incbin "baserom.dol", 0x3C9A68, 0x8
.global lbl_804C0E30
lbl_804C0E30:
	.incbin "baserom.dol", 0x3C9A70, 0x8

.section .rodata, "a"
.balign 0x8
two_over_pi:
	.incbin "baserom.dol", 0x378090, 0x108
npio2_hw:
    # word array supposedly
	.incbin "baserom.dol", 0x378198, 0x80

.section .text, "ax"
.global __ieee754_rem_pio2
__ieee754_rem_pio2:
/* 800BE5A0 000B94A0  94 21 FF A0 */	stwu r1, -0x60(r1)
/* 800BE5A4 000B94A4  7C 08 02 A6 */	mflr r0
/* 800BE5A8 000B94A8  3C 80 3F E9 */	lis r4, 0x3FE921FB@ha
/* 800BE5AC 000B94AC  90 01 00 64 */	stw r0, 0x64(r1)
/* 800BE5B0 000B94B0  38 04 21 FB */	addi r0, r4, 0x3FE921FB@l
/* 800BE5B4 000B94B4  93 E1 00 5C */	stw r31, 0x5c(r1)
/* 800BE5B8 000B94B8  D8 21 00 08 */	stfd f1, 8(r1)
/* 800BE5BC 000B94BC  83 E1 00 08 */	lwz r31, 8(r1)
/* 800BE5C0 000B94C0  93 C1 00 58 */	stw r30, 0x58(r1)
/* 800BE5C4 000B94C4  7C 7E 1B 78 */	mr r30, r3
/* 800BE5C8 000B94C8  57 E6 00 7E */	clrlwi r6, r31, 1
/* 800BE5CC 000B94CC  7C 06 00 00 */	cmpw r6, r0
/* 800BE5D0 000B94D0  41 81 00 18 */	bgt lbl_800BE5E8
/* 800BE5D4 000B94D4  C8 02 93 C0 */	lfd f0, lbl_804C0DE0-_SDA2_BASE_(r2)
/* 800BE5D8 000B94D8  D8 23 00 00 */	stfd f1, 0(r3)
/* 800BE5DC 000B94DC  D8 03 00 08 */	stfd f0, 8(r3)
/* 800BE5E0 000B94E0  38 60 00 00 */	li r3, 0
/* 800BE5E4 000B94E4  48 00 03 3C */	b lbl_800BE920
lbl_800BE5E8:
/* 800BE5E8 000B94E8  3C 80 40 03 */	lis r4, 0x4002D97C@ha
/* 800BE5EC 000B94EC  38 04 D9 7C */	addi r0, r4, 0x4002D97C@l
/* 800BE5F0 000B94F0  7C 06 00 00 */	cmpw r6, r0
/* 800BE5F4 000B94F4  40 80 00 CC */	bge lbl_800BE6C0
/* 800BE5F8 000B94F8  2C 1F 00 00 */	cmpwi r31, 0
/* 800BE5FC 000B94FC  40 81 00 64 */	ble lbl_800BE660
/* 800BE600 000B9500  C8 02 93 C8 */	lfd f0, lbl_804C0DE8-_SDA2_BASE_(r2)
/* 800BE604 000B9504  3C 06 C0 07 */	addis r0, r6, 0xc007
/* 800BE608 000B9508  28 00 21 FB */	cmplwi r0, 0x21fb
/* 800BE60C 000B950C  FC 61 00 28 */	fsub f3, f1, f0
/* 800BE610 000B9510  D8 61 00 10 */	stfd f3, 0x10(r1)
/* 800BE614 000B9514  41 82 00 20 */	beq lbl_800BE634
/* 800BE618 000B9518  C8 42 93 D0 */	lfd f2, lbl_804C0DF0-_SDA2_BASE_(r2)
/* 800BE61C 000B951C  FC 23 10 28 */	fsub f1, f3, f2
/* 800BE620 000B9520  FC 03 08 28 */	fsub f0, f3, f1
/* 800BE624 000B9524  D8 23 00 00 */	stfd f1, 0(r3)
/* 800BE628 000B9528  FC 00 10 28 */	fsub f0, f0, f2
/* 800BE62C 000B952C  D8 03 00 08 */	stfd f0, 8(r3)
/* 800BE630 000B9530  48 00 00 28 */	b lbl_800BE658
lbl_800BE634:
/* 800BE634 000B9534  C8 02 93 D8 */	lfd f0, lbl_804C0DF8-_SDA2_BASE_(r2)
/* 800BE638 000B9538  C8 42 93 E0 */	lfd f2, lbl_804C0E00-_SDA2_BASE_(r2)
/* 800BE63C 000B953C  FC 03 00 28 */	fsub f0, f3, f0
/* 800BE640 000B9540  FC 20 10 28 */	fsub f1, f0, f2
/* 800BE644 000B9544  D8 01 00 10 */	stfd f0, 0x10(r1)
/* 800BE648 000B9548  FC 00 08 28 */	fsub f0, f0, f1
/* 800BE64C 000B954C  D8 23 00 00 */	stfd f1, 0(r3)
/* 800BE650 000B9550  FC 00 10 28 */	fsub f0, f0, f2
/* 800BE654 000B9554  D8 03 00 08 */	stfd f0, 8(r3)
lbl_800BE658:
/* 800BE658 000B9558  38 60 00 01 */	li r3, 1
/* 800BE65C 000B955C  48 00 02 C4 */	b lbl_800BE920
lbl_800BE660:
/* 800BE660 000B9560  C8 02 93 C8 */	lfd f0, lbl_804C0DE8-_SDA2_BASE_(r2)
/* 800BE664 000B9564  3C 06 C0 07 */	addis r0, r6, 0xc007
/* 800BE668 000B9568  28 00 21 FB */	cmplwi r0, 0x21fb
/* 800BE66C 000B956C  FC 60 08 2A */	fadd f3, f0, f1
/* 800BE670 000B9570  D8 61 00 10 */	stfd f3, 0x10(r1)
/* 800BE674 000B9574  41 82 00 20 */	beq lbl_800BE694
/* 800BE678 000B9578  C8 42 93 D0 */	lfd f2, lbl_804C0DF0-_SDA2_BASE_(r2)
/* 800BE67C 000B957C  FC 22 18 2A */	fadd f1, f2, f3
/* 800BE680 000B9580  FC 03 08 28 */	fsub f0, f3, f1
/* 800BE684 000B9584  D8 23 00 00 */	stfd f1, 0(r3)
/* 800BE688 000B9588  FC 02 00 2A */	fadd f0, f2, f0
/* 800BE68C 000B958C  D8 03 00 08 */	stfd f0, 8(r3)
/* 800BE690 000B9590  48 00 00 28 */	b lbl_800BE6B8
lbl_800BE694:
/* 800BE694 000B9594  C8 02 93 D8 */	lfd f0, lbl_804C0DF8-_SDA2_BASE_(r2)
/* 800BE698 000B9598  C8 42 93 E0 */	lfd f2, lbl_804C0E00-_SDA2_BASE_(r2)
/* 800BE69C 000B959C  FC 03 00 2A */	fadd f0, f3, f0
/* 800BE6A0 000B95A0  FC 22 00 2A */	fadd f1, f2, f0
/* 800BE6A4 000B95A4  D8 01 00 10 */	stfd f0, 0x10(r1)
/* 800BE6A8 000B95A8  FC 00 08 28 */	fsub f0, f0, f1
/* 800BE6AC 000B95AC  D8 23 00 00 */	stfd f1, 0(r3)
/* 800BE6B0 000B95B0  FC 02 00 2A */	fadd f0, f2, f0
/* 800BE6B4 000B95B4  D8 03 00 08 */	stfd f0, 8(r3)
lbl_800BE6B8:
/* 800BE6B8 000B95B8  38 60 FF FF */	li r3, -1
/* 800BE6BC 000B95BC  48 00 02 64 */	b lbl_800BE920
lbl_800BE6C0:
/* 800BE6C0 000B95C0  3C 80 41 39 */	lis r4, 0x413921FB@ha
/* 800BE6C4 000B95C4  38 04 21 FB */	addi r0, r4, 0x413921FB@l
/* 800BE6C8 000B95C8  7C 06 00 00 */	cmpw r6, r0
/* 800BE6CC 000B95CC  41 81 01 48 */	bgt lbl_800BE814
/* 800BE6D0 000B95D0  FC A0 0A 10 */	fabs f5, f1
/* 800BE6D4 000B95D4  C8 02 93 F0 */	lfd f0, lbl_804C0E10-_SDA2_BASE_(r2)
/* 800BE6D8 000B95D8  3C 00 43 30 */	lis r0, 0x4330
/* 800BE6DC 000B95DC  C8 42 93 E8 */	lfd f2, lbl_804C0E08-_SDA2_BASE_(r2)
/* 800BE6E0 000B95E0  90 01 00 38 */	stw r0, 0x38(r1)
/* 800BE6E4 000B95E4  FC 80 01 72 */	fmul f4, f0, f5
/* 800BE6E8 000B95E8  C8 62 94 10 */	lfd f3, lbl_804C0E30-_SDA2_BASE_(r2)
/* 800BE6EC 000B95EC  C8 22 93 C8 */	lfd f1, lbl_804C0DE8-_SDA2_BASE_(r2)
/* 800BE6F0 000B95F0  C8 02 93 D0 */	lfd f0, lbl_804C0DF0-_SDA2_BASE_(r2)
/* 800BE6F4 000B95F4  FC 42 20 2A */	fadd f2, f2, f4
/* 800BE6F8 000B95F8  FC 40 10 1E */	fctiwz f2, f2
/* 800BE6FC 000B95FC  D8 41 00 30 */	stfd f2, 0x30(r1)
/* 800BE700 000B9600  80 A1 00 34 */	lwz r5, 0x34(r1)
/* 800BE704 000B9604  6C A0 80 00 */	xoris r0, r5, 0x8000
/* 800BE708 000B9608  2C 05 00 20 */	cmpwi r5, 0x20
/* 800BE70C 000B960C  90 01 00 3C */	stw r0, 0x3c(r1)
/* 800BE710 000B9610  C8 41 00 38 */	lfd f2, 0x38(r1)
/* 800BE714 000B9614  FC C2 18 28 */	fsub f6, f2, f3
/* 800BE718 000B9618  FC 21 01 B2 */	fmul f1, f1, f6
/* 800BE71C 000B961C  FC 40 01 B2 */	fmul f2, f0, f6
/* 800BE720 000B9620  FC 85 08 28 */	fsub f4, f5, f1
/* 800BE724 000B9624  40 80 00 2C */	bge lbl_800BE750
/* 800BE728 000B9628  38 05 FF FF */	addi r0, r5, -1
/* 800BE72C 000B962C  3C 80 80 38 */	lis r4, npio2_hw@ha
/* 800BE730 000B9630  54 00 10 3A */	slwi r0, r0, 2
/* 800BE734 000B9634  38 84 C0 98 */	addi r4, r4, npio2_hw@l
/* 800BE738 000B9638  7C 04 00 2E */	lwzx r0, r4, r0
/* 800BE73C 000B963C  7C 06 00 00 */	cmpw r6, r0
/* 800BE740 000B9640  41 82 00 10 */	beq lbl_800BE750
/* 800BE744 000B9644  FC 04 10 28 */	fsub f0, f4, f2
/* 800BE748 000B9648  D8 03 00 00 */	stfd f0, 0(r3)
/* 800BE74C 000B964C  48 00 00 90 */	b lbl_800BE7DC
lbl_800BE750:
/* 800BE750 000B9650  FC 04 10 28 */	fsub f0, f4, f2
/* 800BE754 000B9654  7C C4 A6 70 */	srawi r4, r6, 0x14
/* 800BE758 000B9658  D8 03 00 00 */	stfd f0, 0(r3)
/* 800BE75C 000B965C  80 03 00 00 */	lwz r0, 0(r3)
/* 800BE760 000B9660  54 00 65 7E */	rlwinm r0, r0, 0xc, 0x15, 0x1f
/* 800BE764 000B9664  7C 00 20 50 */	subf r0, r0, r4
/* 800BE768 000B9668  2C 00 00 10 */	cmpwi r0, 0x10
/* 800BE76C 000B966C  40 81 00 70 */	ble lbl_800BE7DC
/* 800BE770 000B9670  C8 22 93 D8 */	lfd f1, lbl_804C0DF8-_SDA2_BASE_(r2)
/* 800BE774 000B9674  FC 40 20 90 */	fmr f2, f4
/* 800BE778 000B9678  C8 02 93 E0 */	lfd f0, lbl_804C0E00-_SDA2_BASE_(r2)
/* 800BE77C 000B967C  FC 61 01 B2 */	fmul f3, f1, f6
/* 800BE780 000B9680  FC 20 01 B2 */	fmul f1, f0, f6
/* 800BE784 000B9684  FC 84 18 28 */	fsub f4, f4, f3
/* 800BE788 000B9688  FC 02 20 28 */	fsub f0, f2, f4
/* 800BE78C 000B968C  FC 00 18 28 */	fsub f0, f0, f3
/* 800BE790 000B9690  FC 41 00 28 */	fsub f2, f1, f0
/* 800BE794 000B9694  FC 04 10 28 */	fsub f0, f4, f2
/* 800BE798 000B9698  D8 03 00 00 */	stfd f0, 0(r3)
/* 800BE79C 000B969C  80 03 00 00 */	lwz r0, 0(r3)
/* 800BE7A0 000B96A0  54 00 65 7E */	rlwinm r0, r0, 0xc, 0x15, 0x1f
/* 800BE7A4 000B96A4  7C 00 20 50 */	subf r0, r0, r4
/* 800BE7A8 000B96A8  2C 00 00 31 */	cmpwi r0, 0x31
/* 800BE7AC 000B96AC  40 81 00 30 */	ble lbl_800BE7DC
/* 800BE7B0 000B96B0  C8 22 93 F8 */	lfd f1, lbl_804C0E18-_SDA2_BASE_(r2)
/* 800BE7B4 000B96B4  FC 40 20 90 */	fmr f2, f4
/* 800BE7B8 000B96B8  C8 02 94 00 */	lfd f0, lbl_804C0E20-_SDA2_BASE_(r2)
/* 800BE7BC 000B96BC  FC 61 01 B2 */	fmul f3, f1, f6
/* 800BE7C0 000B96C0  FC 20 01 B2 */	fmul f1, f0, f6
/* 800BE7C4 000B96C4  FC 84 18 28 */	fsub f4, f4, f3
/* 800BE7C8 000B96C8  FC 02 20 28 */	fsub f0, f2, f4
/* 800BE7CC 000B96CC  FC 00 18 28 */	fsub f0, f0, f3
/* 800BE7D0 000B96D0  FC 41 00 28 */	fsub f2, f1, f0
/* 800BE7D4 000B96D4  FC 04 10 28 */	fsub f0, f4, f2
/* 800BE7D8 000B96D8  D8 03 00 00 */	stfd f0, 0(r3)
lbl_800BE7DC:
/* 800BE7DC 000B96DC  C8 23 00 00 */	lfd f1, 0(r3)
/* 800BE7E0 000B96E0  2C 1F 00 00 */	cmpwi r31, 0
/* 800BE7E4 000B96E4  FC 04 08 28 */	fsub f0, f4, f1
/* 800BE7E8 000B96E8  FC 00 10 28 */	fsub f0, f0, f2
/* 800BE7EC 000B96EC  D8 03 00 08 */	stfd f0, 8(r3)
/* 800BE7F0 000B96F0  40 80 00 1C */	bge lbl_800BE80C
/* 800BE7F4 000B96F4  FC 20 08 50 */	fneg f1, f1
/* 800BE7F8 000B96F8  FC 00 00 50 */	fneg f0, f0
/* 800BE7FC 000B96FC  D8 23 00 00 */	stfd f1, 0(r3)
/* 800BE800 000B9700  D8 03 00 08 */	stfd f0, 8(r3)
/* 800BE804 000B9704  7C 65 00 D0 */	neg r3, r5
/* 800BE808 000B9708  48 00 01 18 */	b lbl_800BE920
lbl_800BE80C:
/* 800BE80C 000B970C  7C A3 2B 78 */	mr r3, r5
/* 800BE810 000B9710  48 00 01 10 */	b lbl_800BE920
lbl_800BE814:
/* 800BE814 000B9714  3C 00 7F F0 */	lis r0, 0x7ff0
/* 800BE818 000B9718  7C 06 00 00 */	cmpw r6, r0
/* 800BE81C 000B971C  41 80 00 18 */	blt lbl_800BE834
/* 800BE820 000B9720  FC 01 08 28 */	fsub f0, f1, f1
/* 800BE824 000B9724  D8 03 00 08 */	stfd f0, 8(r3)
/* 800BE828 000B9728  D8 03 00 00 */	stfd f0, 0(r3)
/* 800BE82C 000B972C  38 60 00 00 */	li r3, 0
/* 800BE830 000B9730  48 00 00 F0 */	b lbl_800BE920
lbl_800BE834:
/* 800BE834 000B9734  7C C3 A6 70 */	srawi r3, r6, 0x14
/* 800BE838 000B9738  3C 00 43 30 */	lis r0, 0x4330
/* 800BE83C 000B973C  38 A3 FB EA */	addi r5, r3, -1046
/* 800BE840 000B9740  80 81 00 0C */	lwz r4, 0xc(r1)
/* 800BE844 000B9744  54 A3 A0 16 */	slwi r3, r5, 0x14
/* 800BE848 000B9748  90 01 00 30 */	stw r0, 0x30(r1)
/* 800BE84C 000B974C  7C 63 30 50 */	subf r3, r3, r6
/* 800BE850 000B9750  C8 A2 94 10 */	lfd f5, lbl_804C0E30-_SDA2_BASE_(r2)
/* 800BE854 000B9754  90 81 00 14 */	stw r4, 0x14(r1)
/* 800BE858 000B9758  38 81 00 30 */	addi r4, r1, 0x30
/* 800BE85C 000B975C  C8 82 94 08 */	lfd f4, lbl_804C0E28-_SDA2_BASE_(r2)
/* 800BE860 000B9760  38 C0 00 03 */	li r6, 3
/* 800BE864 000B9764  90 61 00 10 */	stw r3, 0x10(r1)
/* 800BE868 000B9768  C8 22 93 C0 */	lfd f1, lbl_804C0DE0-_SDA2_BASE_(r2)
/* 800BE86C 000B976C  C8 61 00 10 */	lfd f3, 0x10(r1)
/* 800BE870 000B9770  90 01 00 48 */	stw r0, 0x48(r1)
/* 800BE874 000B9774  FC 00 18 1E */	fctiwz f0, f3
/* 800BE878 000B9778  D8 01 00 38 */	stfd f0, 0x38(r1)
/* 800BE87C 000B977C  80 01 00 3C */	lwz r0, 0x3c(r1)
/* 800BE880 000B9780  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 800BE884 000B9784  90 01 00 34 */	stw r0, 0x34(r1)
/* 800BE888 000B9788  C8 01 00 30 */	lfd f0, 0x30(r1)
/* 800BE88C 000B978C  FC 40 28 28 */	fsub f2, f0, f5
/* 800BE890 000B9790  FC 03 10 28 */	fsub f0, f3, f2
/* 800BE894 000B9794  D8 41 00 18 */	stfd f2, 0x18(r1)
/* 800BE898 000B9798  FC 64 00 32 */	fmul f3, f4, f0
/* 800BE89C 000B979C  FC 00 18 1E */	fctiwz f0, f3
/* 800BE8A0 000B97A0  D8 01 00 40 */	stfd f0, 0x40(r1)
/* 800BE8A4 000B97A4  80 01 00 44 */	lwz r0, 0x44(r1)
/* 800BE8A8 000B97A8  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 800BE8AC 000B97AC  90 01 00 4C */	stw r0, 0x4c(r1)
/* 800BE8B0 000B97B0  C8 01 00 48 */	lfd f0, 0x48(r1)
/* 800BE8B4 000B97B4  FC 40 28 28 */	fsub f2, f0, f5
/* 800BE8B8 000B97B8  FC 03 10 28 */	fsub f0, f3, f2
/* 800BE8BC 000B97BC  D8 41 00 20 */	stfd f2, 0x20(r1)
/* 800BE8C0 000B97C0  FC 04 00 32 */	fmul f0, f4, f0
/* 800BE8C4 000B97C4  D8 01 00 10 */	stfd f0, 0x10(r1)
/* 800BE8C8 000B97C8  D8 01 00 28 */	stfd f0, 0x28(r1)
/* 800BE8CC 000B97CC  48 00 00 0C */	b lbl_800BE8D8
lbl_800BE8D0:
/* 800BE8D0 000B97D0  38 84 FF F8 */	addi r4, r4, -8
/* 800BE8D4 000B97D4  38 C6 FF FF */	addi r6, r6, -1
lbl_800BE8D8:
/* 800BE8D8 000B97D8  C8 04 FF F8 */	lfd f0, -8(r4)
/* 800BE8DC 000B97DC  FC 01 00 00 */	fcmpu cr0, f1, f0
/* 800BE8E0 000B97E0  41 82 FF F0 */	beq lbl_800BE8D0
/* 800BE8E4 000B97E4  3D 00 80 38 */	lis r8, two_over_pi@ha
/* 800BE8E8 000B97E8  7F C4 F3 78 */	mr r4, r30
/* 800BE8EC 000B97EC  38 61 00 18 */	addi r3, r1, 0x18
/* 800BE8F0 000B97F0  38 E0 00 02 */	li r7, 2
/* 800BE8F4 000B97F4  39 08 BF 90 */	addi r8, r8, two_over_pi@l
/* 800BE8F8 000B97F8  48 00 01 51 */	bl __kernel_rem_pio2
/* 800BE8FC 000B97FC  2C 1F 00 00 */	cmpwi r31, 0
/* 800BE900 000B9800  40 80 00 20 */	bge lbl_800BE920
/* 800BE904 000B9804  C8 3E 00 00 */	lfd f1, 0(r30)
/* 800BE908 000B9808  7C 63 00 D0 */	neg r3, r3
/* 800BE90C 000B980C  C8 1E 00 08 */	lfd f0, 8(r30)
/* 800BE910 000B9810  FC 20 08 50 */	fneg f1, f1
/* 800BE914 000B9814  FC 00 00 50 */	fneg f0, f0
/* 800BE918 000B9818  D8 3E 00 00 */	stfd f1, 0(r30)
/* 800BE91C 000B981C  D8 1E 00 08 */	stfd f0, 8(r30)
lbl_800BE920:
/* 800BE920 000B9820  80 01 00 64 */	lwz r0, 0x64(r1)
/* 800BE924 000B9824  83 E1 00 5C */	lwz r31, 0x5c(r1)
/* 800BE928 000B9828  83 C1 00 58 */	lwz r30, 0x58(r1)
/* 800BE92C 000B982C  7C 08 03 A6 */	mtlr r0
/* 800BE930 000B9830  38 21 00 60 */	addi r1, r1, 0x60
/* 800BE934 000B9834  4E 80 00 20 */	blr 
