.include "macros.inc"

.section .sdata2, "a"
.balign 0x8
.global lbl_804C0F30
lbl_804C0F30:
	.incbin "baserom.dol", 0x3C9B70, 0x8
.global lbl_804C0F38
lbl_804C0F38:
	.incbin "baserom.dol", 0x3C9B78, 0x8
.global lbl_804C0F40
lbl_804C0F40:
	.incbin "baserom.dol", 0x3C9B80, 0x8
.global lbl_804C0F48
lbl_804C0F48:
	.incbin "baserom.dol", 0x3C9B88, 0x8
.global lbl_804C0F50
lbl_804C0F50:
	.incbin "baserom.dol", 0x3C9B90, 0x8

.section .rodata, "a"
.balign 0x8
atanhi:
	.incbin "baserom.dol", 0x3782D0, 0x20
atanlo:
    .incbin "baserom.dol", 0x3782F0, 0x20
aT:
    .incbin "baserom.dol", 0x378310, 0x58

.section .text, "ax"
.global atan
atan:
/* 800C046C 000BB36C  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 800C0470 000BB370  3C A0 80 38 */	lis r5, atanhi@ha
/* 800C0474 000BB374  3C 00 44 10 */	lis r0, 0x4410
/* 800C0478 000BB378  D8 21 00 08 */	stfd f1, 8(r1)
/* 800C047C 000BB37C  38 A5 C1 D0 */	addi r5, r5, atanhi@l
/* 800C0480 000BB380  80 C1 00 08 */	lwz r6, 8(r1)
/* 800C0484 000BB384  54 C4 00 7E */	clrlwi r4, r6, 1
/* 800C0488 000BB388  7C 04 00 00 */	cmpw r4, r0
/* 800C048C 000BB38C  41 80 00 6C */	blt lbl_800C04F8
/* 800C0490 000BB390  3C 00 7F F0 */	lis r0, 0x7ff0
/* 800C0494 000BB394  7C 04 00 00 */	cmpw r4, r0
/* 800C0498 000BB398  41 81 00 1C */	bgt lbl_800C04B4
/* 800C049C 000BB39C  3C 04 80 10 */	addis r0, r4, 0x8010
/* 800C04A0 000BB3A0  28 00 00 00 */	cmplwi r0, 0
/* 800C04A4 000BB3A4  40 82 00 18 */	bne lbl_800C04BC
/* 800C04A8 000BB3A8  80 01 00 0C */	lwz r0, 0xc(r1)
/* 800C04AC 000BB3AC  2C 00 00 00 */	cmpwi r0, 0
/* 800C04B0 000BB3B0  41 82 00 0C */	beq lbl_800C04BC
lbl_800C04B4:
/* 800C04B4 000BB3B4  FC 21 08 2A */	fadd f1, f1, f1
/* 800C04B8 000BB3B8  48 00 01 EC */	b lbl_800C06A4
lbl_800C04BC:
/* 800C04BC 000BB3BC  2C 06 00 00 */	cmpwi r6, 0
/* 800C04C0 000BB3C0  40 81 00 1C */	ble lbl_800C04DC
/* 800C04C4 000BB3C4  38 85 00 00 */	addi r4, r5, 0
/* 800C04C8 000BB3C8  38 65 00 20 */	addi r3, r5, 0x20
/* 800C04CC 000BB3CC  C8 24 00 18 */	lfd f1, 0x18(r4)
/* 800C04D0 000BB3D0  C8 03 00 18 */	lfd f0, 0x18(r3)
/* 800C04D4 000BB3D4  FC 21 00 2A */	fadd f1, f1, f0
/* 800C04D8 000BB3D8  48 00 01 CC */	b lbl_800C06A4
lbl_800C04DC:
/* 800C04DC 000BB3DC  38 85 00 00 */	addi r4, r5, 0
/* 800C04E0 000BB3E0  38 65 00 20 */	addi r3, r5, 0x20
/* 800C04E4 000BB3E4  C8 24 00 18 */	lfd f1, 0x18(r4)
/* 800C04E8 000BB3E8  C8 03 00 18 */	lfd f0, 0x18(r3)
/* 800C04EC 000BB3EC  FC 20 08 50 */	fneg f1, f1
/* 800C04F0 000BB3F0  FC 21 00 28 */	fsub f1, f1, f0
/* 800C04F4 000BB3F4  48 00 01 B0 */	b lbl_800C06A4
lbl_800C04F8:
/* 800C04F8 000BB3F8  3C 00 3F DC */	lis r0, 0x3fdc
/* 800C04FC 000BB3FC  7C 04 00 00 */	cmpw r4, r0
/* 800C0500 000BB400  40 80 00 30 */	bge lbl_800C0530
/* 800C0504 000BB404  3C 00 3E 20 */	lis r0, 0x3e20
/* 800C0508 000BB408  7C 04 00 00 */	cmpw r4, r0
/* 800C050C 000BB40C  40 80 00 1C */	bge lbl_800C0528
/* 800C0510 000BB410  C8 42 95 10 */	lfd f2, lbl_804C0F30-_SDA2_BASE_(r2)
/* 800C0514 000BB414  C8 02 95 18 */	lfd f0, lbl_804C0F38-_SDA2_BASE_(r2)
/* 800C0518 000BB418  FC 42 08 2A */	fadd f2, f2, f1
/* 800C051C 000BB41C  FC 02 00 40 */	fcmpo cr0, f2, f0
/* 800C0520 000BB420  40 81 00 08 */	ble lbl_800C0528
/* 800C0524 000BB424  48 00 01 80 */	b lbl_800C06A4
lbl_800C0528:
/* 800C0528 000BB428  38 00 FF FF */	li r0, -1
/* 800C052C 000BB42C  48 00 00 A4 */	b lbl_800C05D0
lbl_800C0530:
/* 800C0530 000BB430  3C 00 3F F3 */	lis r0, 0x3ff3
/* 800C0534 000BB434  FC 60 0A 10 */	fabs f3, f1
/* 800C0538 000BB438  7C 04 00 00 */	cmpw r4, r0
/* 800C053C 000BB43C  40 80 00 50 */	bge lbl_800C058C
/* 800C0540 000BB440  3C 00 3F E6 */	lis r0, 0x3fe6
/* 800C0544 000BB444  7C 04 00 00 */	cmpw r4, r0
/* 800C0548 000BB448  40 80 00 28 */	bge lbl_800C0570
/* 800C054C 000BB44C  C8 02 95 20 */	lfd f0, lbl_804C0F40-_SDA2_BASE_(r2)
/* 800C0550 000BB450  38 00 00 00 */	li r0, 0
/* 800C0554 000BB454  C8 22 95 18 */	lfd f1, lbl_804C0F38-_SDA2_BASE_(r2)
/* 800C0558 000BB458  FC 40 00 F2 */	fmul f2, f0, f3
/* 800C055C 000BB45C  FC 00 18 2A */	fadd f0, f0, f3
/* 800C0560 000BB460  FC 22 08 28 */	fsub f1, f2, f1
/* 800C0564 000BB464  FC 21 00 24 */	fdiv f1, f1, f0
/* 800C0568 000BB468  D8 21 00 08 */	stfd f1, 8(r1)
/* 800C056C 000BB46C  48 00 00 64 */	b lbl_800C05D0
lbl_800C0570:
/* 800C0570 000BB470  C8 02 95 18 */	lfd f0, lbl_804C0F38-_SDA2_BASE_(r2)
/* 800C0574 000BB474  38 00 00 01 */	li r0, 1
/* 800C0578 000BB478  FC 23 00 28 */	fsub f1, f3, f0
/* 800C057C 000BB47C  FC 00 18 2A */	fadd f0, f0, f3
/* 800C0580 000BB480  FC 21 00 24 */	fdiv f1, f1, f0
/* 800C0584 000BB484  D8 21 00 08 */	stfd f1, 8(r1)
/* 800C0588 000BB488  48 00 00 48 */	b lbl_800C05D0
lbl_800C058C:
/* 800C058C 000BB48C  3C 60 40 04 */	lis r3, 0x40038000@ha
/* 800C0590 000BB490  38 03 80 00 */	addi r0, r3, 0x40038000@l
/* 800C0594 000BB494  7C 04 00 00 */	cmpw r4, r0
/* 800C0598 000BB498  40 80 00 28 */	bge lbl_800C05C0
/* 800C059C 000BB49C  C8 42 95 28 */	lfd f2, lbl_804C0F48-_SDA2_BASE_(r2)
/* 800C05A0 000BB4A0  38 00 00 02 */	li r0, 2
/* 800C05A4 000BB4A4  C8 02 95 18 */	lfd f0, lbl_804C0F38-_SDA2_BASE_(r2)
/* 800C05A8 000BB4A8  FC 22 00 F2 */	fmul f1, f2, f3
/* 800C05AC 000BB4AC  FC 43 10 28 */	fsub f2, f3, f2
/* 800C05B0 000BB4B0  FC 00 08 2A */	fadd f0, f0, f1
/* 800C05B4 000BB4B4  FC 22 00 24 */	fdiv f1, f2, f0
/* 800C05B8 000BB4B8  D8 21 00 08 */	stfd f1, 8(r1)
/* 800C05BC 000BB4BC  48 00 00 14 */	b lbl_800C05D0
lbl_800C05C0:
/* 800C05C0 000BB4C0  C8 02 95 30 */	lfd f0, lbl_804C0F50-_SDA2_BASE_(r2)
/* 800C05C4 000BB4C4  38 00 00 03 */	li r0, 3
/* 800C05C8 000BB4C8  FC 20 18 24 */	fdiv f1, f0, f3
/* 800C05CC 000BB4CC  D8 21 00 08 */	stfd f1, 8(r1)
lbl_800C05D0:
/* 800C05D0 000BB4D0  FC 01 00 72 */	fmul f0, f1, f1
/* 800C05D4 000BB4D4  38 65 00 40 */	addi r3, r5, 0x40
/* 800C05D8 000BB4D8  C8 63 00 50 */	lfd f3, 0x50(r3)
/* 800C05DC 000BB4DC  2C 00 00 00 */	cmpwi r0, 0
/* 800C05E0 000BB4E0  C8 43 00 48 */	lfd f2, 0x48(r3)
/* 800C05E4 000BB4E4  C9 63 00 40 */	lfd f11, 0x40(r3)
/* 800C05E8 000BB4E8  FD A0 00 32 */	fmul f13, f0, f0
/* 800C05EC 000BB4EC  C8 A3 00 38 */	lfd f5, 0x38(r3)
/* 800C05F0 000BB4F0  C9 43 00 30 */	lfd f10, 0x30(r3)
/* 800C05F4 000BB4F4  C8 83 00 28 */	lfd f4, 0x28(r3)
/* 800C05F8 000BB4F8  C9 23 00 20 */	lfd f9, 0x20(r3)
/* 800C05FC 000BB4FC  FD 8D 00 F2 */	fmul f12, f13, f3
/* 800C0600 000BB500  C8 63 00 18 */	lfd f3, 0x18(r3)
/* 800C0604 000BB504  FC CD 00 B2 */	fmul f6, f13, f2
/* 800C0608 000BB508  C9 03 00 10 */	lfd f8, 0x10(r3)
/* 800C060C 000BB50C  C8 43 00 08 */	lfd f2, 8(r3)
/* 800C0610 000BB510  FD 6B 60 2A */	fadd f11, f11, f12
/* 800C0614 000BB514  C8 E5 00 40 */	lfd f7, 0x40(r5)
/* 800C0618 000BB518  FC A5 30 2A */	fadd f5, f5, f6
/* 800C061C 000BB51C  FC CD 02 F2 */	fmul f6, f13, f11
/* 800C0620 000BB520  FC AD 01 72 */	fmul f5, f13, f5
/* 800C0624 000BB524  FC CA 30 2A */	fadd f6, f10, f6
/* 800C0628 000BB528  FC 84 28 2A */	fadd f4, f4, f5
/* 800C062C 000BB52C  FC AD 01 B2 */	fmul f5, f13, f6
/* 800C0630 000BB530  FC 8D 01 32 */	fmul f4, f13, f4
/* 800C0634 000BB534  FC A9 28 2A */	fadd f5, f9, f5
/* 800C0638 000BB538  FC 63 20 2A */	fadd f3, f3, f4
/* 800C063C 000BB53C  FC 8D 01 72 */	fmul f4, f13, f5
/* 800C0640 000BB540  FC 6D 00 F2 */	fmul f3, f13, f3
/* 800C0644 000BB544  FC 88 20 2A */	fadd f4, f8, f4
/* 800C0648 000BB548  FC 42 18 2A */	fadd f2, f2, f3
/* 800C064C 000BB54C  FC 6D 01 32 */	fmul f3, f13, f4
/* 800C0650 000BB550  FC 8D 00 B2 */	fmul f4, f13, f2
/* 800C0654 000BB554  FC 47 18 2A */	fadd f2, f7, f3
/* 800C0658 000BB558  FC 00 00 B2 */	fmul f0, f0, f2
/* 800C065C 000BB55C  40 80 00 14 */	bge lbl_800C0670
/* 800C0660 000BB560  FC 00 20 2A */	fadd f0, f0, f4
/* 800C0664 000BB564  FC 01 00 32 */	fmul f0, f1, f0
/* 800C0668 000BB568  FC 21 00 28 */	fsub f1, f1, f0
/* 800C066C 000BB56C  48 00 00 38 */	b lbl_800C06A4
lbl_800C0670:
/* 800C0670 000BB570  FC 00 20 2A */	fadd f0, f0, f4
/* 800C0674 000BB574  54 00 18 38 */	slwi r0, r0, 3
/* 800C0678 000BB578  38 65 00 20 */	addi r3, r5, 0x20
/* 800C067C 000BB57C  38 85 00 00 */	addi r4, r5, 0
/* 800C0680 000BB580  7C 43 04 AE */	lfdx f2, r3, r0
/* 800C0684 000BB584  2C 06 00 00 */	cmpwi r6, 0
/* 800C0688 000BB588  FC 61 00 32 */	fmul f3, f1, f0
/* 800C068C 000BB58C  7C 04 04 AE */	lfdx f0, r4, r0
/* 800C0690 000BB590  FC 43 10 28 */	fsub f2, f3, f2
/* 800C0694 000BB594  FC 22 08 28 */	fsub f1, f2, f1
/* 800C0698 000BB598  FC 20 08 28 */	fsub f1, f0, f1
/* 800C069C 000BB59C  40 80 00 08 */	bge lbl_800C06A4
/* 800C06A0 000BB5A0  FC 20 08 50 */	fneg f1, f1
lbl_800C06A4:
/* 800C06A4 000BB5A4  38 21 00 10 */	addi r1, r1, 0x10
/* 800C06A8 000BB5A8  4E 80 00 20 */	blr 
