.include "macros.inc"

.section .data, "wa"
.balign 0x8
.global switch_803992D8
switch_803992D8:
	.incbin "baserom.dol", 0x3953D8, 0x70

.section .text, "ax"
.global TRKDispatchMessage
TRKDispatchMessage:
/* 800C2018 000BCF18  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 800C201C 000BCF1C  7C 08 02 A6 */	mflr r0
/* 800C2020 000BCF20  38 80 00 00 */	li r4, 0
/* 800C2024 000BCF24  90 01 00 14 */	stw r0, 0x14(r1)
/* 800C2028 000BCF28  93 E1 00 0C */	stw r31, 0xc(r1)
/* 800C202C 000BCF2C  3B E0 05 00 */	li r31, 0x500
/* 800C2030 000BCF30  93 C1 00 08 */	stw r30, 8(r1)
/* 800C2034 000BCF34  7C 7E 1B 78 */	mr r30, r3
/* 800C2038 000BCF38  4B FF FB 6D */	bl TRKSetBufferPosition
/* 800C203C 000BCF3C  88 1E 00 14 */	lbz r0, 0x14(r30)
/* 800C2040 000BCF40  28 00 00 1A */	cmplwi r0, 0x1a
/* 800C2044 000BCF44  41 81 00 F8 */	bgt lbl_800C213C
/* 800C2048 000BCF48  3C 60 80 3A */	lis r3, switch_803992D8@ha
/* 800C204C 000BCF4C  54 00 10 3A */	slwi r0, r0, 2
/* 800C2050 000BCF50  38 63 92 D8 */	addi r3, r3, switch_803992D8@l
/* 800C2054 000BCF54  7C 03 00 2E */	lwzx r0, r3, r0
/* 800C2058 000BCF58  7C 09 03 A6 */	mtctr r0
/* 800C205C 000BCF5C  4E 80 04 20 */	bctr 
/* 800C2060 000BCF60  7F C3 F3 78 */	mr r3, r30
/* 800C2064 000BCF64  48 00 11 35 */	bl TRKDoConnect
/* 800C2068 000BCF68  7C 7F 1B 78 */	mr r31, r3
/* 800C206C 000BCF6C  48 00 00 D0 */	b lbl_800C213C
/* 800C2070 000BCF70  7F C3 F3 78 */	mr r3, r30
/* 800C2074 000BCF74  48 00 10 89 */	bl TRKDoDisconnect
/* 800C2078 000BCF78  7C 7F 1B 78 */	mr r31, r3
/* 800C207C 000BCF7C  48 00 00 C0 */	b lbl_800C213C
/* 800C2080 000BCF80  7F C3 F3 78 */	mr r3, r30
/* 800C2084 000BCF84  48 00 0F FD */	bl TRKDoReset
/* 800C2088 000BCF88  7C 7F 1B 78 */	mr r31, r3
/* 800C208C 000BCF8C  48 00 00 B0 */	b lbl_800C213C
/* 800C2090 000BCF90  7F C3 F3 78 */	mr r3, r30
/* 800C2094 000BCF94  48 00 0F 71 */	bl TRKDoOverride
/* 800C2098 000BCF98  7C 7F 1B 78 */	mr r31, r3
/* 800C209C 000BCF9C  48 00 00 A0 */	b lbl_800C213C
/* 800C20A0 000BCFA0  7F C3 F3 78 */	mr r3, r30
/* 800C20A4 000BCFA4  48 00 0F 59 */	bl TRKDoVersions
/* 800C20A8 000BCFA8  7C 7F 1B 78 */	mr r31, r3
/* 800C20AC 000BCFAC  48 00 00 90 */	b lbl_800C213C
/* 800C20B0 000BCFB0  7F C3 F3 78 */	mr r3, r30
/* 800C20B4 000BCFB4  48 00 0F 41 */	bl TRKDoSupportMask
/* 800C20B8 000BCFB8  7C 7F 1B 78 */	mr r31, r3
/* 800C20BC 000BCFBC  48 00 00 80 */	b lbl_800C213C
/* 800C20C0 000BCFC0  7F C3 F3 78 */	mr r3, r30
/* 800C20C4 000BCFC4  48 00 0C E9 */	bl TRKDoReadMemory
/* 800C20C8 000BCFC8  7C 7F 1B 78 */	mr r31, r3
/* 800C20CC 000BCFCC  48 00 00 70 */	b lbl_800C213C
/* 800C20D0 000BCFD0  7F C3 F3 78 */	mr r3, r30
/* 800C20D4 000BCFD4  48 00 0A BD */	bl TRKDoWriteMemory
/* 800C20D8 000BCFD8  7C 7F 1B 78 */	mr r31, r3
/* 800C20DC 000BCFDC  48 00 00 60 */	b lbl_800C213C
/* 800C20E0 000BCFE0  7F C3 F3 78 */	mr r3, r30
/* 800C20E4 000BCFE4  48 00 08 89 */	bl TRKDoReadRegisters
/* 800C20E8 000BCFE8  7C 7F 1B 78 */	mr r31, r3
/* 800C20EC 000BCFEC  48 00 00 50 */	b lbl_800C213C
/* 800C20F0 000BCFF0  7F C3 F3 78 */	mr r3, r30
/* 800C20F4 000BCFF4  48 00 05 BD */	bl TRKDoWriteRegisters
/* 800C20F8 000BCFF8  7C 7F 1B 78 */	mr r31, r3
/* 800C20FC 000BCFFC  48 00 00 40 */	b lbl_800C213C
/* 800C2100 000BD000  7F C3 F3 78 */	mr r3, r30
/* 800C2104 000BD004  48 00 04 C9 */	bl TRKDoContinue
/* 800C2108 000BD008  7C 7F 1B 78 */	mr r31, r3
/* 800C210C 000BD00C  48 00 00 30 */	b lbl_800C213C
/* 800C2110 000BD010  7F C3 F3 78 */	mr r3, r30
/* 800C2114 000BD014  48 00 01 E5 */	bl TRKDoStep
/* 800C2118 000BD018  7C 7F 1B 78 */	mr r31, r3
/* 800C211C 000BD01C  48 00 00 20 */	b lbl_800C213C
/* 800C2120 000BD020  7F C3 F3 78 */	mr r3, r30
/* 800C2124 000BD024  48 00 01 09 */	bl TRKDoStop
/* 800C2128 000BD028  7C 7F 1B 78 */	mr r31, r3
/* 800C212C 000BD02C  48 00 00 10 */	b lbl_800C213C
/* 800C2130 000BD030  7F C3 F3 78 */	mr r3, r30
/* 800C2134 000BD034  48 00 00 2D */	bl TRKDoSetOption
/* 800C2138 000BD038  7C 7F 1B 78 */	mr r31, r3
lbl_800C213C:
/* 800C213C 000BD03C  80 01 00 14 */	lwz r0, 0x14(r1)
/* 800C2140 000BD040  7F E3 FB 78 */	mr r3, r31
/* 800C2144 000BD044  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 800C2148 000BD048  83 C1 00 08 */	lwz r30, 8(r1)
/* 800C214C 000BD04C  7C 08 03 A6 */	mtlr r0
/* 800C2150 000BD050  38 21 00 10 */	addi r1, r1, 0x10
/* 800C2154 000BD054  4E 80 00 20 */	blr 

.global TRKInitializeDispatcher
TRKInitializeDispatcher:
/* 800C2158 000BD058  38 60 00 00 */	li r3, 0
/* 800C215C 000BD05C  4E 80 00 20 */	blr 
