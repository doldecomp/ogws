.include "macros.inc"

.section .text, "ax"
.global __fwrite
__fwrite:
/* 800B4498 000AF398  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 800B449C 000AF39C  7C 08 02 A6 */	mflr r0
/* 800B44A0 000AF3A0  90 01 00 34 */	stw r0, 0x34(r1)
/* 800B44A4 000AF3A4  BF 21 00 14 */	stmw r25, 0x14(r1)
/* 800B44A8 000AF3A8  7C 9B 23 78 */	mr r27, r4
/* 800B44AC 000AF3AC  7C DC 33 78 */	mr r28, r6
/* 800B44B0 000AF3B0  7C 7A 1B 78 */	mr r26, r3
/* 800B44B4 000AF3B4  7C B9 2B 78 */	mr r25, r5
/* 800B44B8 000AF3B8  38 80 00 00 */	li r4, 0
/* 800B44BC 000AF3BC  7F 83 E3 78 */	mr r3, r28
/* 800B44C0 000AF3C0  48 00 8B 49 */	bl fwide
/* 800B44C4 000AF3C4  2C 03 00 00 */	cmpwi r3, 0
/* 800B44C8 000AF3C8  40 82 00 10 */	bne lbl_800B44D8
/* 800B44CC 000AF3CC  7F 83 E3 78 */	mr r3, r28
/* 800B44D0 000AF3D0  38 80 FF FF */	li r4, -1
/* 800B44D4 000AF3D4  48 00 8B 35 */	bl fwide
lbl_800B44D8:
/* 800B44D8 000AF3D8  7F DB C9 D7 */	mullw. r30, r27, r25
/* 800B44DC 000AF3DC  41 82 00 1C */	beq lbl_800B44F8
/* 800B44E0 000AF3E0  88 1C 00 0A */	lbz r0, 0xa(r28)
/* 800B44E4 000AF3E4  2C 00 00 00 */	cmpwi r0, 0
/* 800B44E8 000AF3E8  40 82 00 10 */	bne lbl_800B44F8
/* 800B44EC 000AF3EC  80 1C 00 04 */	lwz r0, 4(r28)
/* 800B44F0 000AF3F0  54 00 57 7F */	rlwinm. r0, r0, 0xa, 0x1d, 0x1f
/* 800B44F4 000AF3F4  40 82 00 0C */	bne lbl_800B4500
lbl_800B44F8:
/* 800B44F8 000AF3F8  38 60 00 00 */	li r3, 0
/* 800B44FC 000AF3FC  48 00 02 90 */	b lbl_800B478C
lbl_800B4500:
/* 800B4500 000AF400  28 00 00 02 */	cmplwi r0, 2
/* 800B4504 000AF404  40 82 00 08 */	bne lbl_800B450C
/* 800B4508 000AF408  48 00 0D C9 */	bl __stdio_atexit
lbl_800B450C:
/* 800B450C 000AF40C  80 7C 00 04 */	lwz r3, 4(r28)
/* 800B4510 000AF410  3B E0 00 01 */	li r31, 1
/* 800B4514 000AF414  38 80 00 00 */	li r4, 0
/* 800B4518 000AF418  54 60 6F FF */	rlwinm. r0, r3, 0xd, 0x1f, 0x1f
/* 800B451C 000AF41C  41 82 00 10 */	beq lbl_800B452C
/* 800B4520 000AF420  54 60 3F BE */	rlwinm r0, r3, 7, 0x1e, 0x1f
/* 800B4524 000AF424  28 00 00 02 */	cmplwi r0, 2
/* 800B4528 000AF428  40 82 00 08 */	bne lbl_800B4530
lbl_800B452C:
/* 800B452C 000AF42C  38 80 00 01 */	li r4, 1
lbl_800B4530:
/* 800B4530 000AF430  2C 04 00 00 */	cmpwi r4, 0
/* 800B4534 000AF434  40 82 00 18 */	bne lbl_800B454C
/* 800B4538 000AF438  80 1C 00 04 */	lwz r0, 4(r28)
/* 800B453C 000AF43C  54 00 3F BE */	rlwinm r0, r0, 7, 0x1e, 0x1f
/* 800B4540 000AF440  28 00 00 01 */	cmplwi r0, 1
/* 800B4544 000AF444  41 82 00 08 */	beq lbl_800B454C
/* 800B4548 000AF448  3B E0 00 00 */	li r31, 0
lbl_800B454C:
/* 800B454C 000AF44C  80 1C 00 08 */	lwz r0, 8(r28)
/* 800B4550 000AF450  54 00 1F 7F */	rlwinm. r0, r0, 3, 0x1d, 0x1f
/* 800B4554 000AF454  40 82 00 54 */	bne lbl_800B45A8
/* 800B4558 000AF458  80 7C 00 04 */	lwz r3, 4(r28)
/* 800B455C 000AF45C  54 60 2F BD */	rlwinm. r0, r3, 5, 0x1e, 0x1e
/* 800B4560 000AF460  54 60 2F 7E */	rlwinm r0, r3, 5, 0x1d, 0x1f
/* 800B4564 000AF464  41 82 00 44 */	beq lbl_800B45A8
/* 800B4568 000AF468  54 00 07 7B */	rlwinm. r0, r0, 0, 0x1d, 0x1d
/* 800B456C 000AF46C  41 82 00 24 */	beq lbl_800B4590
/* 800B4570 000AF470  7F 83 E3 78 */	mr r3, r28
/* 800B4574 000AF474  38 80 00 00 */	li r4, 0
/* 800B4578 000AF478  38 A0 00 02 */	li r5, 2
/* 800B457C 000AF47C  48 00 04 C1 */	bl _fseek
/* 800B4580 000AF480  2C 03 00 00 */	cmpwi r3, 0
/* 800B4584 000AF484  41 82 00 0C */	beq lbl_800B4590
/* 800B4588 000AF488  38 60 00 00 */	li r3, 0
/* 800B458C 000AF48C  48 00 02 00 */	b lbl_800B478C
lbl_800B4590:
/* 800B4590 000AF490  80 1C 00 08 */	lwz r0, 8(r28)
/* 800B4594 000AF494  38 60 00 01 */	li r3, 1
/* 800B4598 000AF498  50 60 E8 04 */	rlwimi r0, r3, 0x1d, 0, 2
/* 800B459C 000AF49C  90 1C 00 08 */	stw r0, 8(r28)
/* 800B45A0 000AF4A0  7F 83 E3 78 */	mr r3, r28
/* 800B45A4 000AF4A4  4B FF FE 15 */	bl __prep_buffer
lbl_800B45A8:
/* 800B45A8 000AF4A8  80 1C 00 08 */	lwz r0, 8(r28)
/* 800B45AC 000AF4AC  54 00 1F 7E */	srwi r0, r0, 0x1d
/* 800B45B0 000AF4B0  28 00 00 01 */	cmplwi r0, 1
/* 800B45B4 000AF4B4  41 82 00 1C */	beq lbl_800B45D0
/* 800B45B8 000AF4B8  38 60 00 01 */	li r3, 1
/* 800B45BC 000AF4BC  38 00 00 00 */	li r0, 0
/* 800B45C0 000AF4C0  98 7C 00 0A */	stb r3, 0xa(r28)
/* 800B45C4 000AF4C4  38 60 00 00 */	li r3, 0
/* 800B45C8 000AF4C8  90 1C 00 28 */	stw r0, 0x28(r28)
/* 800B45CC 000AF4CC  48 00 01 C0 */	b lbl_800B478C
lbl_800B45D0:
/* 800B45D0 000AF4D0  2C 1E 00 00 */	cmpwi r30, 0
/* 800B45D4 000AF4D4  3B A0 00 00 */	li r29, 0
/* 800B45D8 000AF4D8  41 82 01 28 */	beq lbl_800B4700
/* 800B45DC 000AF4DC  80 7C 00 1C */	lwz r3, 0x1c(r28)
/* 800B45E0 000AF4E0  80 9C 00 24 */	lwz r4, 0x24(r28)
/* 800B45E4 000AF4E4  7C 04 18 40 */	cmplw r4, r3
/* 800B45E8 000AF4E8  40 82 00 0C */	bne lbl_800B45F4
/* 800B45EC 000AF4EC  2C 1F 00 00 */	cmpwi r31, 0
/* 800B45F0 000AF4F0  41 82 01 10 */	beq lbl_800B4700
lbl_800B45F4:
/* 800B45F4 000AF4F4  80 1C 00 20 */	lwz r0, 0x20(r28)
/* 800B45F8 000AF4F8  7C 63 20 50 */	subf r3, r3, r4
/* 800B45FC 000AF4FC  7C 03 00 50 */	subf r0, r3, r0
/* 800B4600 000AF500  90 1C 00 28 */	stw r0, 0x28(r28)
lbl_800B4604:
/* 800B4604 000AF504  80 BC 00 28 */	lwz r5, 0x28(r28)
/* 800B4608 000AF508  3B 20 00 00 */	li r25, 0
/* 800B460C 000AF50C  7C 05 F0 40 */	cmplw r5, r30
/* 800B4610 000AF510  90 A1 00 08 */	stw r5, 8(r1)
/* 800B4614 000AF514  40 81 00 0C */	ble lbl_800B4620
/* 800B4618 000AF518  7F C5 F3 78 */	mr r5, r30
/* 800B461C 000AF51C  93 C1 00 08 */	stw r30, 8(r1)
lbl_800B4620:
/* 800B4620 000AF520  80 1C 00 04 */	lwz r0, 4(r28)
/* 800B4624 000AF524  54 00 3F BE */	rlwinm r0, r0, 7, 0x1e, 0x1f
/* 800B4628 000AF528  28 00 00 01 */	cmplwi r0, 1
/* 800B462C 000AF52C  40 82 00 30 */	bne lbl_800B465C
/* 800B4630 000AF530  2C 05 00 00 */	cmpwi r5, 0
/* 800B4634 000AF534  41 82 00 28 */	beq lbl_800B465C
/* 800B4638 000AF538  7F 43 D3 78 */	mr r3, r26
/* 800B463C 000AF53C  38 80 00 0A */	li r4, 0xa
/* 800B4640 000AF540  48 00 08 B1 */	bl __memrchr
/* 800B4644 000AF544  2C 03 00 00 */	cmpwi r3, 0
/* 800B4648 000AF548  7C 79 1B 78 */	mr r25, r3
/* 800B464C 000AF54C  41 82 00 10 */	beq lbl_800B465C
/* 800B4650 000AF550  38 03 00 01 */	addi r0, r3, 1
/* 800B4654 000AF554  7C BA 00 50 */	subf r5, r26, r0
/* 800B4658 000AF558  90 A1 00 08 */	stw r5, 8(r1)
lbl_800B465C:
/* 800B465C 000AF55C  80 A1 00 08 */	lwz r5, 8(r1)
/* 800B4660 000AF560  2C 05 00 00 */	cmpwi r5, 0
/* 800B4664 000AF564  41 82 00 38 */	beq lbl_800B469C
/* 800B4668 000AF568  80 7C 00 24 */	lwz r3, 0x24(r28)
/* 800B466C 000AF56C  7F 44 D3 78 */	mr r4, r26
/* 800B4670 000AF570  4B F4 F9 91 */	bl memcpy
/* 800B4674 000AF574  80 81 00 08 */	lwz r4, 8(r1)
/* 800B4678 000AF578  80 7C 00 24 */	lwz r3, 0x24(r28)
/* 800B467C 000AF57C  80 1C 00 28 */	lwz r0, 0x28(r28)
/* 800B4680 000AF580  7F 5A 22 14 */	add r26, r26, r4
/* 800B4684 000AF584  7C 63 22 14 */	add r3, r3, r4
/* 800B4688 000AF588  7F C4 F0 50 */	subf r30, r4, r30
/* 800B468C 000AF58C  90 7C 00 24 */	stw r3, 0x24(r28)
/* 800B4690 000AF590  80 61 00 08 */	lwz r3, 8(r1)
/* 800B4694 000AF594  7C 03 00 50 */	subf r0, r3, r0
/* 800B4698 000AF598  90 1C 00 28 */	stw r0, 0x28(r28)
lbl_800B469C:
/* 800B469C 000AF59C  80 1C 00 28 */	lwz r0, 0x28(r28)
/* 800B46A0 000AF5A0  2C 00 00 00 */	cmpwi r0, 0
/* 800B46A4 000AF5A4  41 82 00 18 */	beq lbl_800B46BC
/* 800B46A8 000AF5A8  2C 19 00 00 */	cmpwi r25, 0
/* 800B46AC 000AF5AC  40 82 00 10 */	bne lbl_800B46BC
/* 800B46B0 000AF5B0  80 1C 00 04 */	lwz r0, 4(r28)
/* 800B46B4 000AF5B4  54 00 3F BF */	rlwinm. r0, r0, 7, 0x1e, 0x1f
/* 800B46B8 000AF5B8  40 82 00 30 */	bne lbl_800B46E8
lbl_800B46BC:
/* 800B46BC 000AF5BC  7F 83 E3 78 */	mr r3, r28
/* 800B46C0 000AF5C0  38 80 00 00 */	li r4, 0
/* 800B46C4 000AF5C4  4B FF FD 1D */	bl __flush_buffer
/* 800B46C8 000AF5C8  2C 03 00 00 */	cmpwi r3, 0
/* 800B46CC 000AF5CC  41 82 00 1C */	beq lbl_800B46E8
/* 800B46D0 000AF5D0  38 60 00 01 */	li r3, 1
/* 800B46D4 000AF5D4  38 00 00 00 */	li r0, 0
/* 800B46D8 000AF5D8  98 7C 00 0A */	stb r3, 0xa(r28)
/* 800B46DC 000AF5DC  3B C0 00 00 */	li r30, 0
/* 800B46E0 000AF5E0  90 1C 00 28 */	stw r0, 0x28(r28)
/* 800B46E4 000AF5E4  48 00 00 1C */	b lbl_800B4700
lbl_800B46E8:
/* 800B46E8 000AF5E8  80 01 00 08 */	lwz r0, 8(r1)
/* 800B46EC 000AF5EC  2C 1E 00 00 */	cmpwi r30, 0
/* 800B46F0 000AF5F0  7F BD 02 14 */	add r29, r29, r0
/* 800B46F4 000AF5F4  41 82 00 0C */	beq lbl_800B4700
/* 800B46F8 000AF5F8  2C 1F 00 00 */	cmpwi r31, 0
/* 800B46FC 000AF5FC  40 82 FF 08 */	bne lbl_800B4604
lbl_800B4700:
/* 800B4700 000AF600  2C 1E 00 00 */	cmpwi r30, 0
/* 800B4704 000AF604  41 82 00 6C */	beq lbl_800B4770
/* 800B4708 000AF608  2C 1F 00 00 */	cmpwi r31, 0
/* 800B470C 000AF60C  40 82 00 64 */	bne lbl_800B4770
/* 800B4710 000AF610  83 3C 00 1C */	lwz r25, 0x1c(r28)
/* 800B4714 000AF614  7C 1A F2 14 */	add r0, r26, r30
/* 800B4718 000AF618  83 FC 00 20 */	lwz r31, 0x20(r28)
/* 800B471C 000AF61C  7F 83 E3 78 */	mr r3, r28
/* 800B4720 000AF620  93 5C 00 1C */	stw r26, 0x1c(r28)
/* 800B4724 000AF624  38 81 00 08 */	addi r4, r1, 8
/* 800B4728 000AF628  93 DC 00 20 */	stw r30, 0x20(r28)
/* 800B472C 000AF62C  90 1C 00 24 */	stw r0, 0x24(r28)
/* 800B4730 000AF630  4B FF FC B1 */	bl __flush_buffer
/* 800B4734 000AF634  2C 03 00 00 */	cmpwi r3, 0
/* 800B4738 000AF638  41 82 00 18 */	beq lbl_800B4750
/* 800B473C 000AF63C  38 60 00 01 */	li r3, 1
/* 800B4740 000AF640  38 00 00 00 */	li r0, 0
/* 800B4744 000AF644  98 7C 00 0A */	stb r3, 0xa(r28)
/* 800B4748 000AF648  90 1C 00 28 */	stw r0, 0x28(r28)
/* 800B474C 000AF64C  48 00 00 0C */	b lbl_800B4758
lbl_800B4750:
/* 800B4750 000AF650  80 01 00 08 */	lwz r0, 8(r1)
/* 800B4754 000AF654  7F BD 02 14 */	add r29, r29, r0
lbl_800B4758:
/* 800B4758 000AF658  93 3C 00 1C */	stw r25, 0x1c(r28)
/* 800B475C 000AF65C  7F 83 E3 78 */	mr r3, r28
/* 800B4760 000AF660  93 FC 00 20 */	stw r31, 0x20(r28)
/* 800B4764 000AF664  4B FF FC 55 */	bl __prep_buffer
/* 800B4768 000AF668  38 00 00 00 */	li r0, 0
/* 800B476C 000AF66C  90 1C 00 28 */	stw r0, 0x28(r28)
lbl_800B4770:
/* 800B4770 000AF670  80 1C 00 04 */	lwz r0, 4(r28)
/* 800B4774 000AF674  54 00 3F BE */	rlwinm r0, r0, 7, 0x1e, 0x1f
/* 800B4778 000AF678  28 00 00 02 */	cmplwi r0, 2
/* 800B477C 000AF67C  41 82 00 0C */	beq lbl_800B4788
/* 800B4780 000AF680  38 00 00 00 */	li r0, 0
/* 800B4784 000AF684  90 1C 00 28 */	stw r0, 0x28(r28)
lbl_800B4788:
/* 800B4788 000AF688  7C 7D DB 96 */	divwu r3, r29, r27
lbl_800B478C:
/* 800B478C 000AF68C  BB 21 00 14 */	lmw r25, 0x14(r1)
/* 800B4790 000AF690  80 01 00 34 */	lwz r0, 0x34(r1)
/* 800B4794 000AF694  7C 08 03 A6 */	mtlr r0
/* 800B4798 000AF698  38 21 00 30 */	addi r1, r1, 0x30
/* 800B479C 000AF69C  4E 80 00 20 */	blr 
