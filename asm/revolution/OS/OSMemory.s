.include "macros.inc"

.section .data, "wa"
.balign 0x8
ShutdownFunctionInfo:
	.long OnShutdown
    .long 0x0000007F
    .long 0x00000000

.section .text, "ax"
.global OSGetPhysicalMem1Size
OSGetPhysicalMem1Size:
/* 800F2330 000ED230  3C 60 80 00 */	lis r3, 0x80003100@ha
/* 800F2334 000ED234  80 63 31 00 */	lwz r3, 0x80003100@l(r3)
/* 800F2338 000ED238  4E 80 00 20 */	blr 

.global OSGetPhysicalMem2Size
OSGetPhysicalMem2Size:
/* 800F233C 000ED23C  3C 60 80 00 */	lis r3, 0x80003118@ha
/* 800F2340 000ED240  80 63 31 18 */	lwz r3, 0x80003118@l(r3)
/* 800F2344 000ED244  4E 80 00 20 */	blr 

.global OSGetConsoleSimulatedMem1Size
OSGetConsoleSimulatedMem1Size:
/* 800F2348 000ED248  3C 60 80 00 */	lis r3, 0x80003104@ha
/* 800F234C 000ED24C  80 63 31 04 */	lwz r3, 0x80003104@l(r3)
/* 800F2350 000ED250  4E 80 00 20 */	blr 

.global OSGetConsoleSimulatedMem2Size
OSGetConsoleSimulatedMem2Size:
/* 800F2354 000ED254  3C 60 80 00 */	lis r3, 0x8000311C@ha
/* 800F2358 000ED258  80 63 31 1C */	lwz r3, 0x8000311C@l(r3)
/* 800F235C 000ED25C  4E 80 00 20 */	blr 

OnShutdown:
/* 800F2360 000ED260  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 800F2364 000ED264  7C 08 02 A6 */	mflr r0
/* 800F2368 000ED268  2C 03 00 00 */	cmpwi r3, 0
/* 800F236C 000ED26C  90 01 00 14 */	stw r0, 0x14(r1)
/* 800F2370 000ED270  41 82 00 18 */	beq lbl_800F2388
/* 800F2374 000ED274  38 00 00 FF */	li r0, 0xff
/* 800F2378 000ED278  3C 60 CC 00 */	lis r3, 0xCC004010@ha
/* 800F237C 000ED27C  B0 03 40 10 */	sth r0, 0xCC004010@l(r3)
/* 800F2380 000ED280  3C 60 F0 00 */	lis r3, 0xf000
/* 800F2384 000ED284  4B FF F8 CD */	bl __OSMaskInterrupts
lbl_800F2388:
/* 800F2388 000ED288  80 01 00 14 */	lwz r0, 0x14(r1)
/* 800F238C 000ED28C  38 60 00 01 */	li r3, 1
/* 800F2390 000ED290  7C 08 03 A6 */	mtlr r0
/* 800F2394 000ED294  38 21 00 10 */	addi r1, r1, 0x10
/* 800F2398 000ED298  4E 80 00 20 */	blr 

# Typo?
MEMIntrruptHandler:
/* 800F239C 000ED29C  3D 00 CC 00 */	lis r8, 0xCC00401E@ha
/* 800F23A0 000ED2A0  3C 60 80 41 */	lis r3, __OSErrorTable@ha
/* 800F23A4 000ED2A4  A0 A8 40 1E */	lhz r5, 0xCC00401E@l(r8)
/* 800F23A8 000ED2A8  38 00 00 00 */	li r0, 0
/* 800F23AC 000ED2AC  A0 E8 40 24 */	lhz r7, 0x4024(r8)
/* 800F23B0 000ED2B0  38 63 41 50 */	addi r3, r3, __OSErrorTable@l
/* 800F23B4 000ED2B4  A0 C8 40 22 */	lhz r6, 0x4022(r8)
/* 800F23B8 000ED2B8  50 E6 81 9E */	rlwimi r6, r7, 0x10, 6, 0xf
/* 800F23BC 000ED2BC  B0 08 40 20 */	sth r0, 0x4020(r8)
/* 800F23C0 000ED2C0  81 83 00 3C */	lwz r12, 0x3c(r3)
/* 800F23C4 000ED2C4  2C 0C 00 00 */	cmpwi r12, 0
/* 800F23C8 000ED2C8  41 82 00 14 */	beq lbl_800F23DC
/* 800F23CC 000ED2CC  38 60 00 0F */	li r3, 0xf
/* 800F23D0 000ED2D0  4C C6 31 82 */	crclr 6
/* 800F23D4 000ED2D4  7D 89 03 A6 */	mtctr r12
/* 800F23D8 000ED2D8  4E 80 04 20 */	bctr 
lbl_800F23DC:
/* 800F23DC 000ED2DC  38 60 00 0F */	li r3, 0xf
/* 800F23E0 000ED2E0  4B FF CF 7C */	b __OSUnhandledException

ConfigMEM1_24MB:
/* 800F23E4 000ED2E4  38 E0 00 00 */	li r7, 0
/* 800F23E8 000ED2E8  3C 80 00 00 */	lis r4, 0x00000002@ha
/* 800F23EC 000ED2EC  38 84 00 02 */	addi r4, r4, 0x00000002@l
/* 800F23F0 000ED2F0  3C 60 80 00 */	lis r3, 0x800001FF@ha
/* 800F23F4 000ED2F4  38 63 01 FF */	addi r3, r3, 0x800001FF@l
/* 800F23F8 000ED2F8  3C C0 01 00 */	lis r6, 0x01000002@ha
/* 800F23FC 000ED2FC  38 C6 00 02 */	addi r6, r6, 0x01000002@l
/* 800F2400 000ED300  3C A0 81 00 */	lis r5, 0x810000FF@ha
/* 800F2404 000ED304  38 A5 00 FF */	addi r5, r5, 0x810000FF@l
/* 800F2408 000ED308  4C 00 01 2C */	isync 
/* 800F240C 000ED30C  7C F8 83 A6 */	mtdbatu 0, r7
/* 800F2410 000ED310  7C 99 83 A6 */	mtdbatl 0, r4
/* 800F2414 000ED314  7C 78 83 A6 */	mtdbatu 0, r3
/* 800F2418 000ED318  4C 00 01 2C */	isync 
/* 800F241C 000ED31C  7C F0 83 A6 */	mtibatu 0, r7
/* 800F2420 000ED320  7C 91 83 A6 */	mtibatl 0, r4
/* 800F2424 000ED324  7C 70 83 A6 */	mtibatu 0, r3
/* 800F2428 000ED328  4C 00 01 2C */	isync 
/* 800F242C 000ED32C  7C FC 83 A6 */	mtdbatu 2, r7
/* 800F2430 000ED330  7C DD 83 A6 */	mtdbatl 2, r6
/* 800F2434 000ED334  7C BC 83 A6 */	mtdbatu 2, r5
/* 800F2438 000ED338  4C 00 01 2C */	isync 
/* 800F243C 000ED33C  7C F4 83 A6 */	mtibatu 2, r7
/* 800F2440 000ED340  7C D5 83 A6 */	mtibatl 2, r6
/* 800F2444 000ED344  7C B4 83 A6 */	mtibatu 2, r5
/* 800F2448 000ED348  4C 00 01 2C */	isync 
/* 800F244C 000ED34C  7C 60 00 A6 */	mfmsr r3
/* 800F2450 000ED350  60 63 00 30 */	ori r3, r3, 0x30
/* 800F2454 000ED354  7C 7B 03 A6 */	mtspr 0x1b, r3
/* 800F2458 000ED358  7C 68 02 A6 */	mflr r3
/* 800F245C 000ED35C  7C 7A 03 A6 */	mtspr 0x1a, r3
/* 800F2460 000ED360  4C 00 00 64 */	rfi 

ConfigMEM1_48MB:
/* 800F2464 000ED364  38 E0 00 00 */	li r7, 0
/* 800F2468 000ED368  3C 80 00 00 */	lis r4, 0x00000002@ha
/* 800F246C 000ED36C  38 84 00 02 */	addi r4, r4, 0x00000002@l
/* 800F2470 000ED370  3C 60 80 00 */	lis r3, 0x800003FF@ha
/* 800F2474 000ED374  38 63 03 FF */	addi r3, r3, 0x800003FF@l
/* 800F2478 000ED378  3C C0 02 00 */	lis r6, 0x02000002@ha
/* 800F247C 000ED37C  38 C6 00 02 */	addi r6, r6, 0x02000002@l
/* 800F2480 000ED380  3C A0 82 00 */	lis r5, 0x820001FF@ha
/* 800F2484 000ED384  38 A5 01 FF */	addi r5, r5, 0x820001FF@l
/* 800F2488 000ED388  4C 00 01 2C */	isync 
/* 800F248C 000ED38C  7C F8 83 A6 */	mtdbatu 0, r7
/* 800F2490 000ED390  7C 99 83 A6 */	mtdbatl 0, r4
/* 800F2494 000ED394  7C 78 83 A6 */	mtdbatu 0, r3
/* 800F2498 000ED398  4C 00 01 2C */	isync 
/* 800F249C 000ED39C  7C F0 83 A6 */	mtibatu 0, r7
/* 800F24A0 000ED3A0  7C 91 83 A6 */	mtibatl 0, r4
/* 800F24A4 000ED3A4  7C 70 83 A6 */	mtibatu 0, r3
/* 800F24A8 000ED3A8  4C 00 01 2C */	isync 
/* 800F24AC 000ED3AC  7C FC 83 A6 */	mtdbatu 2, r7
/* 800F24B0 000ED3B0  7C DD 83 A6 */	mtdbatl 2, r6
/* 800F24B4 000ED3B4  7C BC 83 A6 */	mtdbatu 2, r5
/* 800F24B8 000ED3B8  4C 00 01 2C */	isync 
/* 800F24BC 000ED3BC  7C F4 83 A6 */	mtibatu 2, r7
/* 800F24C0 000ED3C0  7C D5 83 A6 */	mtibatl 2, r6
/* 800F24C4 000ED3C4  7C B4 83 A6 */	mtibatu 2, r5
/* 800F24C8 000ED3C8  4C 00 01 2C */	isync 
/* 800F24CC 000ED3CC  7C 60 00 A6 */	mfmsr r3
/* 800F24D0 000ED3D0  60 63 00 30 */	ori r3, r3, 0x30
/* 800F24D4 000ED3D4  7C 7B 03 A6 */	mtspr 0x1b, r3
/* 800F24D8 000ED3D8  7C 68 02 A6 */	mflr r3
/* 800F24DC 000ED3DC  7C 7A 03 A6 */	mtspr 0x1a, r3
/* 800F24E0 000ED3E0  4C 00 00 64 */	rfi 

ConfigMEM2_52MB:
/* 800F24E4 000ED3E4  38 E0 00 00 */	li r7, 0
/* 800F24E8 000ED3E8  3C 80 10 00 */	lis r4, 0x10000002@ha
/* 800F24EC 000ED3EC  38 84 00 02 */	addi r4, r4, 0x10000002@l
/* 800F24F0 000ED3F0  3C 60 90 00 */	lis r3, 0x900003FF@ha
/* 800F24F4 000ED3F4  38 63 03 FF */	addi r3, r3, 0x900003FF@l
/* 800F24F8 000ED3F8  3C C0 10 00 */	lis r6, 0x1000002A@ha
/* 800F24FC 000ED3FC  38 C6 00 2A */	addi r6, r6, 0x1000002A@l
/* 800F2500 000ED400  3C A0 D0 00 */	lis r5, 0xD00007FF@ha
/* 800F2504 000ED404  38 A5 07 FF */	addi r5, r5, 0xD00007FF@l
/* 800F2508 000ED408  4C 00 01 2C */	isync 
/* 800F250C 000ED40C  7C F8 8B A6 */	mtspr 0x238, r7
/* 800F2510 000ED410  7C 99 8B A6 */	mtspr 0x239, r4
/* 800F2514 000ED414  7C 78 8B A6 */	mtspr 0x238, r3
/* 800F2518 000ED418  4C 00 01 2C */	isync 
/* 800F251C 000ED41C  7C F0 8B A6 */	mtspr 0x230, r7
/* 800F2520 000ED420  7C 91 8B A6 */	mtspr 0x231, r4
/* 800F2524 000ED424  7C 70 8B A6 */	mtspr 0x230, r3
/* 800F2528 000ED428  4C 00 01 2C */	isync 
/* 800F252C 000ED42C  7C FA 8B A6 */	mtspr 0x23a, r7
/* 800F2530 000ED430  7C DB 8B A6 */	mtspr 0x23b, r6
/* 800F2534 000ED434  7C BA 8B A6 */	mtspr 0x23a, r5
/* 800F2538 000ED438  4C 00 01 2C */	isync 
/* 800F253C 000ED43C  7C F2 8B A6 */	mtspr 0x232, r7
/* 800F2540 000ED440  7C F3 8B A6 */	mtspr 0x233, r7
/* 800F2544 000ED444  4C 00 01 2C */	isync 
/* 800F2548 000ED448  3C 80 12 00 */	lis r4, 0x12000002@ha
/* 800F254C 000ED44C  38 84 00 02 */	addi r4, r4, 0x12000002@l
/* 800F2550 000ED450  3C 60 92 00 */	lis r3, 0x920001FF@ha
/* 800F2554 000ED454  38 63 01 FF */	addi r3, r3, 0x920001FF@l
/* 800F2558 000ED458  3C C0 13 00 */	lis r6, 0x13000002@ha
/* 800F255C 000ED45C  38 C6 00 02 */	addi r6, r6, 0x13000002@l
/* 800F2560 000ED460  3C A0 93 00 */	lis r5, 0x9300007F@ha
/* 800F2564 000ED464  38 A5 00 7F */	addi r5, r5, 0x9300007F@l
/* 800F2568 000ED468  4C 00 01 2C */	isync 
/* 800F256C 000ED46C  7C FC 8B A6 */	mtspr 0x23c, r7
/* 800F2570 000ED470  7C 9D 8B A6 */	mtspr 0x23d, r4
/* 800F2574 000ED474  7C 7C 8B A6 */	mtspr 0x23c, r3
/* 800F2578 000ED478  4C 00 01 2C */	isync 
/* 800F257C 000ED47C  7C F4 8B A6 */	mtspr 0x234, r7
/* 800F2580 000ED480  7C 95 8B A6 */	mtspr 0x235, r4
/* 800F2584 000ED484  7C 74 8B A6 */	mtspr 0x234, r3
/* 800F2588 000ED488  4C 00 01 2C */	isync 
/* 800F258C 000ED48C  7C FE 8B A6 */	mtspr 0x23e, r7
/* 800F2590 000ED490  7C DF 8B A6 */	mtspr 0x23f, r6
/* 800F2594 000ED494  7C BE 8B A6 */	mtspr 0x23e, r5
/* 800F2598 000ED498  4C 00 01 2C */	isync 
/* 800F259C 000ED49C  7C F6 8B A6 */	mtspr 0x236, r7
/* 800F25A0 000ED4A0  7C D7 8B A6 */	mtspr 0x237, r6
/* 800F25A4 000ED4A4  7C B6 8B A6 */	mtspr 0x236, r5
/* 800F25A8 000ED4A8  4C 00 01 2C */	isync 
/* 800F25AC 000ED4AC  7C 60 00 A6 */	mfmsr r3
/* 800F25B0 000ED4B0  60 63 00 30 */	ori r3, r3, 0x30
/* 800F25B4 000ED4B4  7C 7B 03 A6 */	mtspr 0x1b, r3
/* 800F25B8 000ED4B8  7C 68 02 A6 */	mflr r3
/* 800F25BC 000ED4BC  7C 7A 03 A6 */	mtspr 0x1a, r3
/* 800F25C0 000ED4C0  4C 00 00 64 */	rfi 

ConfigMEM2_56MB:
/* 800F25C4 000ED4C4  38 E0 00 00 */	li r7, 0
/* 800F25C8 000ED4C8  3C 80 10 00 */	lis r4, 0x10000002@ha
/* 800F25CC 000ED4CC  38 84 00 02 */	addi r4, r4, 0x10000002@l
/* 800F25D0 000ED4D0  3C 60 90 00 */	lis r3, 0x900003FF@ha
/* 800F25D4 000ED4D4  38 63 03 FF */	addi r3, r3, 0x900003FF@l
/* 800F25D8 000ED4D8  3C C0 10 00 */	lis r6, 0x1000002A@ha
/* 800F25DC 000ED4DC  38 C6 00 2A */	addi r6, r6, 0x1000002A@l
/* 800F25E0 000ED4E0  3C A0 D0 00 */	lis r5, 0xD00007FF@ha
/* 800F25E4 000ED4E4  38 A5 07 FF */	addi r5, r5, 0xD00007FF@l
/* 800F25E8 000ED4E8  4C 00 01 2C */	isync 
/* 800F25EC 000ED4EC  7C F8 8B A6 */	mtspr 0x238, r7
/* 800F25F0 000ED4F0  7C 99 8B A6 */	mtspr 0x239, r4
/* 800F25F4 000ED4F4  7C 78 8B A6 */	mtspr 0x238, r3
/* 800F25F8 000ED4F8  4C 00 01 2C */	isync 
/* 800F25FC 000ED4FC  7C F0 8B A6 */	mtspr 0x230, r7
/* 800F2600 000ED500  7C 91 8B A6 */	mtspr 0x231, r4
/* 800F2604 000ED504  7C 70 8B A6 */	mtspr 0x230, r3
/* 800F2608 000ED508  4C 00 01 2C */	isync 
/* 800F260C 000ED50C  7C FA 8B A6 */	mtspr 0x23a, r7
/* 800F2610 000ED510  7C DB 8B A6 */	mtspr 0x23b, r6
/* 800F2614 000ED514  7C BA 8B A6 */	mtspr 0x23a, r5
/* 800F2618 000ED518  4C 00 01 2C */	isync 
/* 800F261C 000ED51C  7C F2 8B A6 */	mtspr 0x232, r7
/* 800F2620 000ED520  7C F3 8B A6 */	mtspr 0x233, r7
/* 800F2624 000ED524  4C 00 01 2C */	isync 
/* 800F2628 000ED528  3C 80 12 00 */	lis r4, 0x12000002@ha
/* 800F262C 000ED52C  38 84 00 02 */	addi r4, r4, 0x12000002@l
/* 800F2630 000ED530  3C 60 92 00 */	lis r3, 0x920001FF@ha
/* 800F2634 000ED534  38 63 01 FF */	addi r3, r3, 0x920001FF@l
/* 800F2638 000ED538  3C C0 13 00 */	lis r6, 0x13000002@ha
/* 800F263C 000ED53C  38 C6 00 02 */	addi r6, r6, 0x13000002@l
/* 800F2640 000ED540  3C A0 93 00 */	lis r5, 0x930000FF@ha
/* 800F2644 000ED544  38 A5 00 FF */	addi r5, r5, 0x930000FF@l
/* 800F2648 000ED548  4C 00 01 2C */	isync 
/* 800F264C 000ED54C  7C FC 8B A6 */	mtspr 0x23c, r7
/* 800F2650 000ED550  7C 9D 8B A6 */	mtspr 0x23d, r4
/* 800F2654 000ED554  7C 7C 8B A6 */	mtspr 0x23c, r3
/* 800F2658 000ED558  4C 00 01 2C */	isync 
/* 800F265C 000ED55C  7C F4 8B A6 */	mtspr 0x234, r7
/* 800F2660 000ED560  7C 95 8B A6 */	mtspr 0x235, r4
/* 800F2664 000ED564  7C 74 8B A6 */	mtspr 0x234, r3
/* 800F2668 000ED568  4C 00 01 2C */	isync 
/* 800F266C 000ED56C  7C FE 8B A6 */	mtspr 0x23e, r7
/* 800F2670 000ED570  7C DF 8B A6 */	mtspr 0x23f, r6
/* 800F2674 000ED574  7C BE 8B A6 */	mtspr 0x23e, r5
/* 800F2678 000ED578  4C 00 01 2C */	isync 
/* 800F267C 000ED57C  7C F6 8B A6 */	mtspr 0x236, r7
/* 800F2680 000ED580  7C D7 8B A6 */	mtspr 0x237, r6
/* 800F2684 000ED584  7C B6 8B A6 */	mtspr 0x236, r5
/* 800F2688 000ED588  4C 00 01 2C */	isync 
/* 800F268C 000ED58C  7C 60 00 A6 */	mfmsr r3
/* 800F2690 000ED590  60 63 00 30 */	ori r3, r3, 0x30
/* 800F2694 000ED594  7C 7B 03 A6 */	mtspr 0x1b, r3
/* 800F2698 000ED598  7C 68 02 A6 */	mflr r3
/* 800F269C 000ED59C  7C 7A 03 A6 */	mtspr 0x1a, r3
/* 800F26A0 000ED5A0  4C 00 00 64 */	rfi 

ConfigMEM2_64MB:
/* 800F26A4 000ED5A4  38 E0 00 00 */	li r7, 0
/* 800F26A8 000ED5A8  3C 80 10 00 */	lis r4, 0x10000002@ha
/* 800F26AC 000ED5AC  38 84 00 02 */	addi r4, r4, 0x10000002@l
/* 800F26B0 000ED5B0  3C 60 90 00 */	lis r3, 0x900007FF@ha
/* 800F26B4 000ED5B4  38 63 07 FF */	addi r3, r3, 0x900007FF@l
/* 800F26B8 000ED5B8  3C C0 10 00 */	lis r6, 0x1000002A@ha
/* 800F26BC 000ED5BC  38 C6 00 2A */	addi r6, r6, 0x1000002A@l
/* 800F26C0 000ED5C0  3C A0 D0 00 */	lis r5, 0xD00007FF@ha
/* 800F26C4 000ED5C4  38 A5 07 FF */	addi r5, r5, 0xD00007FF@l
/* 800F26C8 000ED5C8  4C 00 01 2C */	isync 
/* 800F26CC 000ED5CC  7C F8 8B A6 */	mtspr 0x238, r7
/* 800F26D0 000ED5D0  7C 99 8B A6 */	mtspr 0x239, r4
/* 800F26D4 000ED5D4  7C 78 8B A6 */	mtspr 0x238, r3
/* 800F26D8 000ED5D8  4C 00 01 2C */	isync 
/* 800F26DC 000ED5DC  7C F0 8B A6 */	mtspr 0x230, r7
/* 800F26E0 000ED5E0  7C 91 8B A6 */	mtspr 0x231, r4
/* 800F26E4 000ED5E4  7C 70 8B A6 */	mtspr 0x230, r3
/* 800F26E8 000ED5E8  4C 00 01 2C */	isync 
/* 800F26EC 000ED5EC  7C FA 8B A6 */	mtspr 0x23a, r7
/* 800F26F0 000ED5F0  7C DB 8B A6 */	mtspr 0x23b, r6
/* 800F26F4 000ED5F4  7C BA 8B A6 */	mtspr 0x23a, r5
/* 800F26F8 000ED5F8  4C 00 01 2C */	isync 
/* 800F26FC 000ED5FC  7C F2 8B A6 */	mtspr 0x232, r7
/* 800F2700 000ED600  7C F3 8B A6 */	mtspr 0x233, r7
/* 800F2704 000ED604  4C 00 01 2C */	isync 
/* 800F2708 000ED608  7C F4 8B A6 */	mtspr 0x234, r7
/* 800F270C 000ED60C  7C F5 8B A6 */	mtspr 0x235, r7
/* 800F2710 000ED610  4C 00 01 2C */	isync 
/* 800F2714 000ED614  7C F6 8B A6 */	mtspr 0x236, r7
/* 800F2718 000ED618  7C F7 8B A6 */	mtspr 0x237, r7
/* 800F271C 000ED61C  4C 00 01 2C */	isync 
/* 800F2720 000ED620  7C FC 8B A6 */	mtspr 0x23c, r7
/* 800F2724 000ED624  7C FD 8B A6 */	mtspr 0x23d, r7
/* 800F2728 000ED628  4C 00 01 2C */	isync 
/* 800F272C 000ED62C  7C FE 8B A6 */	mtspr 0x23e, r7
/* 800F2730 000ED630  7C FF 8B A6 */	mtspr 0x23f, r7
/* 800F2734 000ED634  4C 00 01 2C */	isync 
/* 800F2738 000ED638  7C 60 00 A6 */	mfmsr r3
/* 800F273C 000ED63C  60 63 00 30 */	ori r3, r3, 0x30
/* 800F2740 000ED640  7C 7B 03 A6 */	mtspr 0x1b, r3
/* 800F2744 000ED644  7C 68 02 A6 */	mflr r3
/* 800F2748 000ED648  7C 7A 03 A6 */	mtspr 0x1a, r3
/* 800F274C 000ED64C  4C 00 00 64 */	rfi 

ConfigMEM2_112MB:
/* 800F2750 000ED650  38 E0 00 00 */	li r7, 0
/* 800F2754 000ED654  3C 80 10 00 */	lis r4, 0x10000002@ha
/* 800F2758 000ED658  38 84 00 02 */	addi r4, r4, 0x10000002@l
/* 800F275C 000ED65C  3C 60 90 00 */	lis r3, 0x900007FF@ha
/* 800F2760 000ED660  38 63 07 FF */	addi r3, r3, 0x900007FF@l
/* 800F2764 000ED664  3C C0 10 00 */	lis r6, 0x1000002A@ha
/* 800F2768 000ED668  38 C6 00 2A */	addi r6, r6, 0x1000002A@l
/* 800F276C 000ED66C  3C A0 D0 00 */	lis r5, 0xD0000FFF@ha
/* 800F2770 000ED670  38 A5 0F FF */	addi r5, r5, 0xD0000FFF@l
/* 800F2774 000ED674  4C 00 01 2C */	isync 
/* 800F2778 000ED678  7C F8 8B A6 */	mtspr 0x238, r7
/* 800F277C 000ED67C  7C 99 8B A6 */	mtspr 0x239, r4
/* 800F2780 000ED680  7C 78 8B A6 */	mtspr 0x238, r3
/* 800F2784 000ED684  4C 00 01 2C */	isync 
/* 800F2788 000ED688  7C F0 8B A6 */	mtspr 0x230, r7
/* 800F278C 000ED68C  7C 91 8B A6 */	mtspr 0x231, r4
/* 800F2790 000ED690  7C 70 8B A6 */	mtspr 0x230, r3
/* 800F2794 000ED694  4C 00 01 2C */	isync 
/* 800F2798 000ED698  7C FA 8B A6 */	mtspr 0x23a, r7
/* 800F279C 000ED69C  7C DB 8B A6 */	mtspr 0x23b, r6
/* 800F27A0 000ED6A0  7C BA 8B A6 */	mtspr 0x23a, r5
/* 800F27A4 000ED6A4  4C 00 01 2C */	isync 
/* 800F27A8 000ED6A8  7C F2 8B A6 */	mtspr 0x232, r7
/* 800F27AC 000ED6AC  7C F3 8B A6 */	mtspr 0x233, r7
/* 800F27B0 000ED6B0  4C 00 01 2C */	isync 
/* 800F27B4 000ED6B4  3C 80 14 00 */	lis r4, 0x14000002@ha
/* 800F27B8 000ED6B8  38 84 00 02 */	addi r4, r4, 0x14000002@l
/* 800F27BC 000ED6BC  3C 60 94 00 */	lis r3, 0x940003FF@ha
/* 800F27C0 000ED6C0  38 63 03 FF */	addi r3, r3, 0x940003FF@l
/* 800F27C4 000ED6C4  3C C0 16 00 */	lis r6, 0x16000002@ha
/* 800F27C8 000ED6C8  38 C6 00 02 */	addi r6, r6, 0x16000002@l
/* 800F27CC 000ED6CC  3C A0 96 00 */	lis r5, 0x960001FF@ha
/* 800F27D0 000ED6D0  38 A5 01 FF */	addi r5, r5, 0x960001FF@l
/* 800F27D4 000ED6D4  4C 00 01 2C */	isync 
/* 800F27D8 000ED6D8  7C FC 8B A6 */	mtspr 0x23c, r7
/* 800F27DC 000ED6DC  7C 9D 8B A6 */	mtspr 0x23d, r4
/* 800F27E0 000ED6E0  7C 7C 8B A6 */	mtspr 0x23c, r3
/* 800F27E4 000ED6E4  4C 00 01 2C */	isync 
/* 800F27E8 000ED6E8  7C F4 8B A6 */	mtspr 0x234, r7
/* 800F27EC 000ED6EC  7C 95 8B A6 */	mtspr 0x235, r4
/* 800F27F0 000ED6F0  7C 74 8B A6 */	mtspr 0x234, r3
/* 800F27F4 000ED6F4  4C 00 01 2C */	isync 
/* 800F27F8 000ED6F8  7C FE 8B A6 */	mtspr 0x23e, r7
/* 800F27FC 000ED6FC  7C DF 8B A6 */	mtspr 0x23f, r6
/* 800F2800 000ED700  7C BE 8B A6 */	mtspr 0x23e, r5
/* 800F2804 000ED704  4C 00 01 2C */	isync 
/* 800F2808 000ED708  7C F6 8B A6 */	mtspr 0x236, r7
/* 800F280C 000ED70C  7C D7 8B A6 */	mtspr 0x237, r6
/* 800F2810 000ED710  7C B6 8B A6 */	mtspr 0x236, r5
/* 800F2814 000ED714  4C 00 01 2C */	isync 
/* 800F2818 000ED718  7C 60 00 A6 */	mfmsr r3
/* 800F281C 000ED71C  60 63 00 30 */	ori r3, r3, 0x30
/* 800F2820 000ED720  7C 7B 03 A6 */	mtspr 0x1b, r3
/* 800F2824 000ED724  7C 68 02 A6 */	mflr r3
/* 800F2828 000ED728  7C 7A 03 A6 */	mtspr 0x1a, r3
/* 800F282C 000ED72C  4C 00 00 64 */	rfi 

ConfigMEM2_128MB:
/* 800F2830 000ED730  38 E0 00 00 */	li r7, 0
/* 800F2834 000ED734  3C 80 10 00 */	lis r4, 0x10000002@ha
/* 800F2838 000ED738  38 84 00 02 */	addi r4, r4, 0x10000002@l
/* 800F283C 000ED73C  3C 60 90 00 */	lis r3, 0x90000FFF@ha
/* 800F2840 000ED740  38 63 0F FF */	addi r3, r3, 0x90000FFF@l
/* 800F2844 000ED744  3C C0 10 00 */	lis r6, 0x1000002A@ha
/* 800F2848 000ED748  38 C6 00 2A */	addi r6, r6, 0x1000002A@l
/* 800F284C 000ED74C  3C A0 D0 00 */	lis r5, 0xD0000FFF@ha
/* 800F2850 000ED750  38 A5 0F FF */	addi r5, r5, 0xD0000FFF@l
/* 800F2854 000ED754  4C 00 01 2C */	isync 
/* 800F2858 000ED758  7C F8 8B A6 */	mtspr 0x238, r7
/* 800F285C 000ED75C  7C 99 8B A6 */	mtspr 0x239, r4
/* 800F2860 000ED760  7C 78 8B A6 */	mtspr 0x238, r3
/* 800F2864 000ED764  4C 00 01 2C */	isync 
/* 800F2868 000ED768  7C F0 8B A6 */	mtspr 0x230, r7
/* 800F286C 000ED76C  7C 91 8B A6 */	mtspr 0x231, r4
/* 800F2870 000ED770  7C 70 8B A6 */	mtspr 0x230, r3
/* 800F2874 000ED774  4C 00 01 2C */	isync 
/* 800F2878 000ED778  7C FA 8B A6 */	mtspr 0x23a, r7
/* 800F287C 000ED77C  7C DB 8B A6 */	mtspr 0x23b, r6
/* 800F2880 000ED780  7C BA 8B A6 */	mtspr 0x23a, r5
/* 800F2884 000ED784  4C 00 01 2C */	isync 
/* 800F2888 000ED788  7C F2 8B A6 */	mtspr 0x232, r7
/* 800F288C 000ED78C  7C F3 8B A6 */	mtspr 0x233, r7
/* 800F2890 000ED790  4C 00 01 2C */	isync 
/* 800F2894 000ED794  7C F4 8B A6 */	mtspr 0x234, r7
/* 800F2898 000ED798  7C F5 8B A6 */	mtspr 0x235, r7
/* 800F289C 000ED79C  4C 00 01 2C */	isync 
/* 800F28A0 000ED7A0  7C F6 8B A6 */	mtspr 0x236, r7
/* 800F28A4 000ED7A4  7C F7 8B A6 */	mtspr 0x237, r7
/* 800F28A8 000ED7A8  4C 00 01 2C */	isync 
/* 800F28AC 000ED7AC  7C FC 8B A6 */	mtspr 0x23c, r7
/* 800F28B0 000ED7B0  7C FD 8B A6 */	mtspr 0x23d, r7
/* 800F28B4 000ED7B4  4C 00 01 2C */	isync 
/* 800F28B8 000ED7B8  7C FE 8B A6 */	mtspr 0x23e, r7
/* 800F28BC 000ED7BC  7C FF 8B A6 */	mtspr 0x23f, r7
/* 800F28C0 000ED7C0  4C 00 01 2C */	isync 
/* 800F28C4 000ED7C4  7C 60 00 A6 */	mfmsr r3
/* 800F28C8 000ED7C8  60 63 00 30 */	ori r3, r3, 0x30
/* 800F28CC 000ED7CC  7C 7B 03 A6 */	mtspr 0x1b, r3
/* 800F28D0 000ED7D0  7C 68 02 A6 */	mflr r3
/* 800F28D4 000ED7D4  7C 7A 03 A6 */	mtspr 0x1a, r3
/* 800F28D8 000ED7D8  4C 00 00 64 */	rfi 

ConfigMEM_ES1_0:
/* 800F28DC 000ED7DC  38 E0 00 00 */	li r7, 0
/* 800F28E0 000ED7E0  3C 80 00 00 */	lis r4, 0x00000002@ha
/* 800F28E4 000ED7E4  38 84 00 02 */	addi r4, r4, 0x00000002@l
/* 800F28E8 000ED7E8  3C 60 80 00 */	lis r3, 0x80000FFF@ha
/* 800F28EC 000ED7EC  38 63 0F FF */	addi r3, r3, 0x80000FFF@l
/* 800F28F0 000ED7F0  4C 00 01 2C */	isync 
/* 800F28F4 000ED7F4  7C F8 83 A6 */	mtdbatu 0, r7
/* 800F28F8 000ED7F8  7C 99 83 A6 */	mtdbatl 0, r4
/* 800F28FC 000ED7FC  7C 78 83 A6 */	mtdbatu 0, r3
/* 800F2900 000ED800  4C 00 01 2C */	isync 
/* 800F2904 000ED804  7C F0 83 A6 */	mtibatu 0, r7
/* 800F2908 000ED808  7C 91 83 A6 */	mtibatl 0, r4
/* 800F290C 000ED80C  7C 70 83 A6 */	mtibatu 0, r3
/* 800F2910 000ED810  4C 00 01 2C */	isync 
/* 800F2914 000ED814  7C 60 00 A6 */	mfmsr r3
/* 800F2918 000ED818  60 63 00 30 */	ori r3, r3, 0x30
/* 800F291C 000ED81C  7C 7B 03 A6 */	mtspr 0x1b, r3
/* 800F2920 000ED820  7C 68 02 A6 */	mflr r3
/* 800F2924 000ED824  7C 7A 03 A6 */	mtspr 0x1a, r3
/* 800F2928 000ED828  4C 00 00 64 */	rfi 

RealMode:
/* 800F292C 000ED82C  54 63 00 BE */	clrlwi r3, r3, 2
/* 800F2930 000ED830  7C 7A 03 A6 */	mtspr 0x1a, r3
/* 800F2934 000ED834  7C 60 00 A6 */	mfmsr r3
/* 800F2938 000ED838  54 63 07 32 */	rlwinm r3, r3, 0, 0x1c, 0x19
/* 800F293C 000ED83C  7C 7B 03 A6 */	mtspr 0x1b, r3
/* 800F2940 000ED840  4C 00 00 64 */	rfi 

BATConfig:
/* 800F2944 000ED844  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 800F2948 000ED848  7C 08 02 A6 */	mflr r0
/* 800F294C 000ED84C  3C 60 80 00 */	lis r3, 0x80003138@ha
/* 800F2950 000ED850  90 01 00 14 */	stw r0, 0x14(r1)
/* 800F2954 000ED854  93 E1 00 0C */	stw r31, 0xc(r1)
/* 800F2958 000ED858  80 03 31 38 */	lwz r0, 0x80003138@l(r3)
/* 800F295C 000ED85C  2C 00 00 00 */	cmpwi r0, 0
/* 800F2960 000ED860  40 82 00 20 */	bne lbl_800F2980
/* 800F2964 000ED864  3C 00 80 0F */	lis r0, 0x800f
/* 800F2968 000ED868  34 00 23 30 */	addic. r0, r0, 0x2330
/* 800F296C 000ED86C  40 82 00 14 */	bne lbl_800F2980
/* 800F2970 000ED870  3C 60 80 0F */	lis r3, ConfigMEM_ES1_0@ha
/* 800F2974 000ED874  38 63 28 DC */	addi r3, r3, ConfigMEM_ES1_0@l
/* 800F2978 000ED878  4B FF FF B5 */	bl RealMode
/* 800F297C 000ED87C  48 00 01 04 */	b lbl_800F2A80
lbl_800F2980:
/* 800F2980 000ED880  3C 60 80 00 */	lis r3, 0x80003104@ha
/* 800F2984 000ED884  83 E3 31 04 */	lwz r31, 0x80003104@l(r3)
/* 800F2988 000ED888  80 03 31 00 */	lwz r0, 0x3100(r3)
/* 800F298C 000ED88C  7C 1F 00 40 */	cmplw r31, r0
/* 800F2990 000ED890  40 80 00 28 */	bge lbl_800F29B8
/* 800F2994 000ED894  3C 1F FE 80 */	addis r0, r31, 0xfe80
/* 800F2998 000ED898  28 00 00 00 */	cmplwi r0, 0
/* 800F299C 000ED89C  40 82 00 1C */	bne lbl_800F29B8
/* 800F29A0 000ED8A0  3C 60 81 80 */	lis r3, 0x8180
/* 800F29A4 000ED8A4  3C 80 01 80 */	lis r4, 0x180
/* 800F29A8 000ED8A8  4B FF B7 5D */	bl DCInvalidateRange
/* 800F29AC 000ED8AC  38 00 00 02 */	li r0, 2
/* 800F29B0 000ED8B0  3C 60 CC 00 */	lis r3, 0xCC004028@ha
/* 800F29B4 000ED8B4  B0 03 40 28 */	sth r0, 0xCC004028@l(r3)
lbl_800F29B8:
/* 800F29B8 000ED8B8  3C 00 01 80 */	lis r0, 0x180
/* 800F29BC 000ED8BC  7C 1F 00 40 */	cmplw r31, r0
/* 800F29C0 000ED8C0  41 81 00 14 */	bgt lbl_800F29D4
/* 800F29C4 000ED8C4  3C 60 80 0F */	lis r3, ConfigMEM1_24MB@ha
/* 800F29C8 000ED8C8  38 63 23 E4 */	addi r3, r3, ConfigMEM1_24MB@l
/* 800F29CC 000ED8CC  4B FF FF 61 */	bl RealMode
/* 800F29D0 000ED8D0  48 00 00 1C */	b lbl_800F29EC
lbl_800F29D4:
/* 800F29D4 000ED8D4  3C 00 03 00 */	lis r0, 0x300
/* 800F29D8 000ED8D8  7C 1F 00 40 */	cmplw r31, r0
/* 800F29DC 000ED8DC  41 81 00 10 */	bgt lbl_800F29EC
/* 800F29E0 000ED8E0  3C 60 80 0F */	lis r3, ConfigMEM1_48MB@ha
/* 800F29E4 000ED8E4  38 63 24 64 */	addi r3, r3, ConfigMEM1_48MB@l
/* 800F29E8 000ED8E8  4B FF FF 45 */	bl RealMode
lbl_800F29EC:
/* 800F29EC 000ED8EC  3C 60 80 00 */	lis r3, 0x8000311C@ha
/* 800F29F0 000ED8F0  3C 00 04 00 */	lis r0, 0x400
/* 800F29F4 000ED8F4  80 83 31 1C */	lwz r4, 0x8000311C@l(r3)
/* 800F29F8 000ED8F8  80 63 31 20 */	lwz r3, 0x3120(r3)
/* 800F29FC 000ED8FC  7C 04 00 40 */	cmplw r4, r0
/* 800F2A00 000ED900  41 81 00 4C */	bgt lbl_800F2A4C
/* 800F2A04 000ED904  3C 00 93 40 */	lis r0, 0x9340
/* 800F2A08 000ED908  7C 03 00 40 */	cmplw r3, r0
/* 800F2A0C 000ED90C  41 81 00 14 */	bgt lbl_800F2A20
/* 800F2A10 000ED910  3C 60 80 0F */	lis r3, ConfigMEM2_52MB@ha
/* 800F2A14 000ED914  38 63 24 E4 */	addi r3, r3, ConfigMEM2_52MB@l
/* 800F2A18 000ED918  4B FF FF 15 */	bl RealMode
/* 800F2A1C 000ED91C  48 00 00 64 */	b lbl_800F2A80
lbl_800F2A20:
/* 800F2A20 000ED920  3C 00 93 80 */	lis r0, 0x9380
/* 800F2A24 000ED924  7C 03 00 40 */	cmplw r3, r0
/* 800F2A28 000ED928  41 81 00 14 */	bgt lbl_800F2A3C
/* 800F2A2C 000ED92C  3C 60 80 0F */	lis r3, ConfigMEM2_56MB@ha
/* 800F2A30 000ED930  38 63 25 C4 */	addi r3, r3, ConfigMEM2_56MB@l
/* 800F2A34 000ED934  4B FF FE F9 */	bl RealMode
/* 800F2A38 000ED938  48 00 00 48 */	b lbl_800F2A80
lbl_800F2A3C:
/* 800F2A3C 000ED93C  3C 60 80 0F */	lis r3, ConfigMEM2_64MB@ha
/* 800F2A40 000ED940  38 63 26 A4 */	addi r3, r3, ConfigMEM2_64MB@l
/* 800F2A44 000ED944  4B FF FE E9 */	bl RealMode
/* 800F2A48 000ED948  48 00 00 38 */	b lbl_800F2A80
lbl_800F2A4C:
/* 800F2A4C 000ED94C  3C 00 08 00 */	lis r0, 0x800
/* 800F2A50 000ED950  7C 04 00 40 */	cmplw r4, r0
/* 800F2A54 000ED954  41 81 00 2C */	bgt lbl_800F2A80
/* 800F2A58 000ED958  3C 00 97 00 */	lis r0, 0x9700
/* 800F2A5C 000ED95C  7C 03 00 40 */	cmplw r3, r0
/* 800F2A60 000ED960  41 81 00 14 */	bgt lbl_800F2A74
/* 800F2A64 000ED964  3C 60 80 0F */	lis r3, ConfigMEM2_112MB@ha
/* 800F2A68 000ED968  38 63 27 50 */	addi r3, r3, ConfigMEM2_112MB@l
/* 800F2A6C 000ED96C  4B FF FE C1 */	bl RealMode
/* 800F2A70 000ED970  48 00 00 10 */	b lbl_800F2A80
lbl_800F2A74:
/* 800F2A74 000ED974  3C 60 80 0F */	lis r3, ConfigMEM2_128MB@ha
/* 800F2A78 000ED978  38 63 28 30 */	addi r3, r3, ConfigMEM2_128MB@l
/* 800F2A7C 000ED97C  4B FF FE B1 */	bl RealMode
lbl_800F2A80:
/* 800F2A80 000ED980  80 01 00 14 */	lwz r0, 0x14(r1)
/* 800F2A84 000ED984  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 800F2A88 000ED988  7C 08 03 A6 */	mtlr r0
/* 800F2A8C 000ED98C  38 21 00 10 */	addi r1, r1, 0x10
/* 800F2A90 000ED990  4E 80 00 20 */	blr 

.global __OSInitMemoryProtection
__OSInitMemoryProtection:
/* 800F2A94 000ED994  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 800F2A98 000ED998  7C 08 02 A6 */	mflr r0
/* 800F2A9C 000ED99C  90 01 00 14 */	stw r0, 0x14(r1)
/* 800F2AA0 000ED9A0  93 E1 00 0C */	stw r31, 0xc(r1)
/* 800F2AA4 000ED9A4  93 C1 00 08 */	stw r30, 8(r1)
/* 800F2AA8 000ED9A8  4B FF EE 19 */	bl OSDisableInterrupts
/* 800F2AAC 000ED9AC  3C 80 CC 00 */	lis r4, 0xCC004020@ha
/* 800F2AB0 000ED9B0  38 00 00 00 */	li r0, 0
/* 800F2AB4 000ED9B4  B0 04 40 20 */	sth r0, 0xCC004020@l(r4)
/* 800F2AB8 000ED9B8  38 00 00 FF */	li r0, 0xff
/* 800F2ABC 000ED9BC  7C 7E 1B 78 */	mr r30, r3
/* 800F2AC0 000ED9C0  3C 60 F0 00 */	lis r3, 0xf000
/* 800F2AC4 000ED9C4  B0 04 40 10 */	sth r0, 0x4010(r4)
/* 800F2AC8 000ED9C8  4B FF F1 89 */	bl __OSMaskInterrupts
/* 800F2ACC 000ED9CC  3F E0 80 0F */	lis r31, MEMIntrruptHandler@ha
/* 800F2AD0 000ED9D0  38 60 00 00 */	li r3, 0
/* 800F2AD4 000ED9D4  38 9F 23 9C */	addi r4, r31, MEMIntrruptHandler@l
/* 800F2AD8 000ED9D8  4B FF EE 35 */	bl __OSSetInterruptHandler
/* 800F2ADC 000ED9DC  38 9F 23 9C */	addi r4, r31, 0x239c
/* 800F2AE0 000ED9E0  38 60 00 01 */	li r3, 1
/* 800F2AE4 000ED9E4  4B FF EE 29 */	bl __OSSetInterruptHandler
/* 800F2AE8 000ED9E8  38 9F 23 9C */	addi r4, r31, 0x239c
/* 800F2AEC 000ED9EC  38 60 00 02 */	li r3, 2
/* 800F2AF0 000ED9F0  4B FF EE 1D */	bl __OSSetInterruptHandler
/* 800F2AF4 000ED9F4  38 9F 23 9C */	addi r4, r31, 0x239c
/* 800F2AF8 000ED9F8  38 60 00 03 */	li r3, 3
/* 800F2AFC 000ED9FC  4B FF EE 11 */	bl __OSSetInterruptHandler
/* 800F2B00 000EDA00  38 9F 23 9C */	addi r4, r31, 0x239c
/* 800F2B04 000EDA04  38 60 00 04 */	li r3, 4
/* 800F2B08 000EDA08  4B FF EE 05 */	bl __OSSetInterruptHandler
/* 800F2B0C 000EDA0C  3C 60 80 3A */	lis r3, ShutdownFunctionInfo@ha
/* 800F2B10 000EDA10  38 63 D1 E8 */	addi r3, r3, ShutdownFunctionInfo@l
/* 800F2B14 000EDA14  48 00 03 35 */	bl OSRegisterShutdownFunction
/* 800F2B18 000EDA18  4B FF FE 2D */	bl BATConfig
/* 800F2B1C 000EDA1C  3C 60 08 00 */	lis r3, 0x800
/* 800F2B20 000EDA20  4B FF F1 B1 */	bl __OSUnmaskInterrupts
/* 800F2B24 000EDA24  7F C3 F3 78 */	mr r3, r30
/* 800F2B28 000EDA28  4B FF ED C1 */	bl OSRestoreInterrupts
/* 800F2B2C 000EDA2C  80 01 00 14 */	lwz r0, 0x14(r1)
/* 800F2B30 000EDA30  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 800F2B34 000EDA34  83 C1 00 08 */	lwz r30, 8(r1)
/* 800F2B38 000EDA38  7C 08 03 A6 */	mtlr r0
/* 800F2B3C 000EDA3C  38 21 00 10 */	addi r1, r1, 0x10
/* 800F2B40 000EDA40  4E 80 00 20 */	blr 
